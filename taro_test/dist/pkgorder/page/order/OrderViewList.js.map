{"version":3,"file":"pkgorder/page/order/OrderViewList.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://i_bizz_client/./src/pkgorder/page/order/OrderViewList.tsx?6b76","webpack://i_bizz_client/._src_pkgorder_page_order_OrderViewList.tsx"],"sourcesContent":["import _objectSpread from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _classCallCheck from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _defineProperty from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport React from 'react';\nimport JsUtil from 'tsx/common/JsUtil';\nimport cnst from 'tsx/common/Constant';\nimport statuses from 'tsx/common/Statuses';\nimport FootLayout from 'tsx/layout/FootLayout';\nimport RowLayout from 'tsx/layout/RowLayout';\nimport ColumnLayout from 'tsx/layout/ColumnLayout';\nimport TabPane from 'tsx/view/TabPane';\nimport BrView from 'tsx/view/BrView';\nimport TextLabel from 'tsx/view/TextLabel';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar OrderViewList = /*#__PURE__*/function (_React$Component) {\n  function OrderViewList(props) {\n    var _this;\n    _classCallCheck(this, OrderViewList);\n    _this = _callSuper(this, OrderViewList, [props]);\n    _defineProperty(_this, \"labels0\", {\n      returnAddressId: '收货地址',\n      remark: '备注'\n    });\n    _defineProperty(_this, \"labels1\", _objectSpread({}, _this.labels0));\n    _defineProperty(_this, \"labels\", _objectSpread({}, _this.labels1));\n    _defineProperty(_this, \"searchOrder\", function (_ref) {\n      var _ref$pageNo = _ref.pageNo,\n        pageNo = _ref$pageNo === void 0 ? 1 : _ref$pageNo,\n        _ref$operatorId = _ref.operatorId,\n        operatorId = _ref$operatorId === void 0 ? cnst.ID_HQ : _ref$operatorId;\n      var params = {\n        operatorId: operatorId,\n        subjectId: _this.currUserId,\n        status: _this.state.status\n      };\n      var uri = \"/od/pub/b2c/global/ord/search\";\n      var succ = function succ(result) {\n        if (JsUtil.handleMessage(_this, result)) {\n          var entities = result.body;\n          _this.setState({\n            entities: entities,\n            totalRecords: result.totalRecords\n          });\n        }\n      };\n      var err = function err(result) {\n        JsUtil.handleMessage(_this, result);\n      };\n      JsUtil.asyncHttpPost(_this, uri, JSON.stringify(params), succ, err);\n    });\n    _defineProperty(_this, \"getListOptions\", function (records, status) {\n      var options = [];\n      if (status) records = records.filter(function (item) {\n        return item.status == status;\n      });\n      records.map(function (item, indx) {\n        var option = /*#__PURE__*/_jsxs(ColumnLayout, {\n          backgroundColor: [255, 255, 255, 0],\n          children: [/*#__PURE__*/_jsx(TextLabel, {\n            children: item.commodityName\n          }), /*#__PURE__*/_jsxs(RowLayout, {\n            justifyContent: 'space-between',\n            width: cnst.NUM_WIDTH_MAIN + 3,\n            children: [/*#__PURE__*/_jsxs(TextLabel, {\n              color: \"red\",\n              children: [JsUtil.currFormat(item.price), \"x\", item.finalQty]\n            }), /*#__PURE__*/_jsx(TextLabel, {\n              children: item.supplierName\n            }), /*#__PURE__*/_jsx(TextLabel, {\n              children: statuses.ordLabel(item.status)\n            })]\n          }), /*#__PURE__*/_jsxs(TextLabel, {\n            children: ['交易时间：', item.createTime]\n          }), /*#__PURE__*/_jsx(BrView, {\n            height: 1,\n            backgroundColor: cnst.COLOR_BACKGROUND_DEEP_BLUE\n          })]\n        });\n        options.push(option);\n      });\n      return options;\n    });\n    _defineProperty(_this, \"changeTab\", function (value) {\n      var status = _this.state.tabOptions[value].status;\n      _this.setState({\n        status: status,\n        currTabIdx: value\n      });\n    });\n    _defineProperty(_this, \"onClose\", function (name) {\n      _this.setState(_defineProperty({}, name, false));\n    });\n    _defineProperty(_this, \"onConfirm\", function () {\n      JsUtil.closeMsgBox(_this);\n    });\n    _this.params = JsUtil.getUrlParams(_this);\n    _this.currUserId = JsUtil.getAppItem('currUserId');\n    _this.state = {\n      entities: [],\n      status: '',\n      currTabIdx: 0,\n      tabOptions: [{\n        idx: 0,\n        title: '全部',\n        status: ''\n      }, {\n        idx: 1,\n        title: '待付款',\n        status: statuses.ord.STATUS_WAIT_PAY\n      }, {\n        idx: 2,\n        title: '待收货',\n        status: statuses.ord.STATUS_WAIT_TAKE\n      }, {\n        idx: 3,\n        title: '待评价',\n        status: statuses.ord.STATUS_WAIT_COMMENT\n      }, {\n        idx: 4,\n        title: '已结算',\n        status: statuses.ord.STATUS_WAIT_COMMENT\n      }],\n      totalRecords: 0\n    };\n    return _this;\n  }\n  _inherits(OrderViewList, _React$Component);\n  return _createClass(OrderViewList, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.searchOrder({});\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n        entities = _this$state.entities,\n        status = _this$state.status,\n        tabOptions = _this$state.tabOptions,\n        currTabIdx = _this$state.currTabIdx;\n      var showContent = this.getListOptions(entities, status);\n      return /*#__PURE__*/_jsx(FootLayout, {\n        that: this,\n        topNavBarTitle: \"\\u6211\\u7684\\u8BA2\\u5355\",\n        children: /*#__PURE__*/_jsxs(TabPane, {\n          currTabIdx: currTabIdx,\n          tabOptions: tabOptions,\n          onClick: this.changeTab,\n          children: [/*#__PURE__*/_jsx(BrView, {\n            height: cnst.NUM_HEIGHT_LINE,\n            backgroundColor: cnst.COLOR_BACKGROUND_TRANS_WHITE\n          }), showContent]\n        })\n      });\n    }\n  }]);\n}(React.Component);\nexport default OrderViewList;","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pkgorder/page/order/OrderViewList!./OrderViewList.tsx\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'pkgorder/page/order/OrderViewList', {root:{cn:[]}}, config || {}))\n\n\nexport default component\n"],"names":[],"sourceRoot":""}