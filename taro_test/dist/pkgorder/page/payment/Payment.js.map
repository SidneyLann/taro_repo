{"version":3,"file":"pkgorder/page/payment/Payment.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://i_bizz_client/./src/pkgorder/page/payment/Payment.tsx?aab0","webpack://i_bizz_client/._src_pkgorder_page_payment_Payment.tsx"],"sourcesContent":["import _classCallCheck from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _defineProperty from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nvar _dec, _class;\nimport React from 'react';\nimport { observer, inject } from 'mobx-react';\nimport JsUtil from 'tsx/common/JsUtil';\nimport cnst from 'tsx/common/Constant';\nimport URI from 'tsx/common/URI';\nimport HeadLayout from 'tsx/layout/HeadLayout';\nimport RowLayout from 'tsx/layout/RowLayout';\nimport ColumnLayout from 'tsx/layout/ColumnLayout';\nimport BrView from 'tsx/view/BrView';\nimport CheckBoxes from 'tsx/form/CheckBoxes';\nimport TextLabel from 'tsx/view/TextLabel';\nimport GeneralButton from 'tsx/form/GeneralButton';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar Payment = (_dec = inject('store'), _dec(_class = observer(_class = /*#__PURE__*/function (_React$Component) {\n  function Payment(props) {\n    var _this;\n    _classCallCheck(this, Payment);\n    _this = _callSuper(this, Payment, [props]);\n    _defineProperty(_this, \"payFunc\", function (paymentId) {\n      return function (event) {\n        console.log('paymentId=' + paymentId);\n        var uri = process.env.TARO_ENV === 'h5' ? URI.PAYMENT_PAY5 : URI.PAYMENT_PAY3;\n        //JsUtil.go2Page(uri + '?paymentId=' + paymentId + '&orderType=' + orderType + '&onlineAmount='+onlinePayAmount);\n        if (process.env.TARO_ENV != cnst.TARO_ENV_WEAPP) {\n          JsUtil.showMsgBox(_this, '支付通道未接入, 请使用微信小程序支付');\n          return;\n        }\n        var succ = function succ(result) {\n          if (JsUtil.handleMessage(_this, result)) {\n            var item = result.body;\n            console.log(item);\n            wx.requestPayment(_defineProperty(_defineProperty(_defineProperty(_defineProperty({\n              \"timeStamp\": item.timeStamp,\n              \"nonceStr\": item.nonceStr,\n              \"package\": \"prepay_id=\" + item.prepay_id,\n              \"signType\": \"RSA\",\n              \"paySign\": item.paySign\n            }, \"signType\", \"RSA\"), \"success\", function success(res) {}), \"fail\", function fail(res) {}), \"complete\", function complete(res) {}));\n          }\n        };\n        var err = function err(result) {\n          JsUtil.handleMessage(_this, result, true, true);\n        };\n        JsUtil.asyncHttpPost(_this, '/fn/pub/payment/wx/jsapi/order/search?payType=1&paymentId=' + paymentId, null, succ, err);\n      };\n    });\n    _defineProperty(_this, \"onConfirm\", function () {\n      JsUtil.closeMsgBox(_this);\n    });\n    _this.payments = _this.props.store.paymentStore.payments;\n    _this.state = {};\n    return _this;\n  }\n  _inherits(Payment, _React$Component);\n  return _createClass(Payment, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var options = [];\n      options.push({\n        value: 1,\n        label: '微信支付'\n      });\n      return /*#__PURE__*/_jsxs(HeadLayout, {\n        that: this,\n        topNavBarTitle: '支付',\n        bottomLabel2: '关闭',\n        bottomFunc2: function bottomFunc2(event) {\n          return JsUtil.goHome();\n        },\n        children: [/*#__PURE__*/_jsx(BrView, {\n          height: 8\n        }), /*#__PURE__*/_jsx(TextLabel, {\n          children: \"\\u4ED8\\u6B3E\\u65B9\\u5F0F:\"\n        }), /*#__PURE__*/_jsx(CheckBoxes, {\n          name: \"checkedList\",\n          value: [1],\n          options: options\n        }), this.payments.map(function (item) {\n          return /*#__PURE__*/_jsxs(ColumnLayout, {\n            children: [/*#__PURE__*/_jsx(BrView, {\n              width: cnst.NUM_WIDTH_MAIN,\n              height: 8,\n              backgroundColor: cnst.COLOR_BACKGROUND_NEAR_WHITE\n            }), /*#__PURE__*/_jsx(TextLabel, {\n              children: \"\\u8BA2\\u5355\\u53F7:\"\n            }), /*#__PURE__*/_jsx(TextLabel, {\n              children: item.id\n            }), /*#__PURE__*/_jsx(BrView, {\n              height: 16\n            }), /*#__PURE__*/_jsx(TextLabel, {\n              children: \"\\u5E94\\u4ED8\\u91D1\\u989D:\"\n            }), /*#__PURE__*/_jsxs(RowLayout, {\n              justifyContent: 'space-between',\n              children: [/*#__PURE__*/_jsx(TextLabel, {\n                color: \"red\",\n                children: JsUtil.currFormat(item.onlineAmount)\n              }), /*#__PURE__*/_jsx(GeneralButton, {\n                type: \"primary\",\n                size: \"mini\",\n                width: 50,\n                onClick: _this2.payFunc(item.id),\n                children: \"\\u652F\\u4ED8\"\n              }), \"\\xA0\"]\n            })]\n          }, item.id);\n        })]\n      });\n    }\n  }]);\n}(React.Component)) || _class) || _class);\nexport default Payment;","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pkgorder/page/payment/Payment!./Payment.tsx\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'pkgorder/page/payment/Payment', {root:{cn:[]}}, config || {}))\n\n\nexport default component\n"],"names":[],"sourceRoot":""}