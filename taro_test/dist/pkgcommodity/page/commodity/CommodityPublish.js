"use strict";require("../../sub-common/33a0dcff8dd1ce1d5a5cd746a363af7f.js");require("../../sub-common/9cb1b1bc01ac3b5aab137f4f42f34427.js");require("../../sub-common/743fd6c75eedb38fcbef2bb890f87e25.js");require("../../sub-common/68b2b3b3087f8230c81d9b685e704845.js");require("../../sub-common/c5518bbc966d887860b3d84dfaee055a.js");require("../../sub-common/2472e184a544bf8e8aa64525d8571c65.js");require("../../sub-common/95b631906e44ffb10af039c4295c2fa8.js");require("../../sub-common/8f3ebcfba9fc864812b060ad2cccba99.js");require("../../sub-common/969054ffa53468a068984b2a1ad5d573.js");require("../../sub-common/5f8bb8bf58fbf6a5a12c8d5a470bef7c.js");require("../../sub-common/206fedb70c07c719425288e88c90dd73.js");require("../../sub-common/b63d2cd1cf867ef4fff9dbeed2f6d471.js");require("../../sub-common/b97bc6c3d869fb24e41b1c61d68595ad.js");require("../../sub-common/2c5e91361c20cae1f596707fb621223d.js");require("../../sub-common/6a11ab16f3b00fa2d6d38bdcb3ba642a.js");require("../../sub-common/de2a2e0fe79c997b35540efdcc82703f.js");require("../../sub-common/3e89c767aec3f22e91c210b8234acc1b.js");require("../../sub-common/9c46117cf72345ea03c7fca86e302967.js");require("../../sub-common/191b63ae127a6cfc61dffb8d81a9fa0c.js");require("../../sub-common/a61bc57088e25d67bd3b38abfb84924b.js");require("../../sub-common/d9b36c2dc66bca428f554f33654506d9.js");require("../../sub-common/a8971e4c301542acc7de3a84a13651ea.js");require("../../sub-common/2c14e52c6a694603318b9ca55a43ba2e.js");require("../../sub-common/6fd910a44fac85ffd3c8d31dff324405.js");require("../../sub-common/c6b174c6e9dd3c8f980ea79571394691.js");require("../../sub-common/59388f77a9aac89380f77d0c2b2c80c2.js");require("../../sub-common/fe7ebf0e142f0461d37e954994130f65.js");require("../../sub-common/e918c934616a42df2a7e2bf785318813.js");require("../../sub-common/4122b6e99c0f8b5f46334c5648771267.js");require("../../sub-common/a912f4d6ad7e130973655ae1ad673138.js");require("../../sub-common/dff787cead3dd9f079e279cc08cd25d1.js");require("../../sub-common/24d2e3aba54fd1db350c52268449b1e0.js");require("../../sub-common/a9a235f584fcc3cc5faf7c33a4465e1d.js");require("../../sub-common/3e4f33945b09ba74f16d0c8d34bb4ea3.js");require("../../sub-common/beeb4a865901ee81b4bbf80168e28233.js");require("../../sub-common/cdd57726fc1572531ede15fa9fa4ada8.js");require("../../sub-common/81842870d08bed35415fb5b888d85e69.js");require("../../sub-common/0788c6d4698a4e76629b9807760bdbf8.js");require("../../sub-common/e6278e73cc0922445354ce442ea9d6d2.js");require("../../sub-common/37b4243eb00980a55a667e25433b8f58.js");require("../../sub-common/27d75ae0d56ebbd34aee38a112a6adaa.js");require("../../sub-common/875dc5652e620421d389e50408eddb22.js");require("../../sub-common/f072224e35b296237619e74823e200da.js");require("../../sub-common/19dc772cc205b4d9fdeb4b71f20bb31e.js");require("../../sub-common/ccf2e5e3b803f7f2e15a81c2c42f18cc.js");require("../../sub-common/e3d7e3001f74cd79ebb8152395241a01.js");require("../../sub-common/b6d19a0d4cf7e95442727dd5225a5954.js");require("../../sub-common/08c501b67b491804ac6c2a3a517d04e2.js");require("../../sub-common/4f21e1a8a25c0dec0c462f95935b4a74.js");require("../../sub-common/9eb67347791c9a14cb71efe7df2ce0ec.js");require("../../sub-common/5e91735a3db20ae9ef3104f704c15c14.js");require("../../sub-common/971302a66ab09fba70edf836b7e073cf.js");require("../../sub-common/d36c6665fc2b7369ba0510d11c6110e4.js");require("../../sub-common/5e2d597681b28330d06adc8b7fabd0c7.js");require("../../sub-common/7c744d5c70dd6fc42b867c55302e3ae0.js");require("../../sub-common/858a57d0f8354b2c99cbb8a35a896895.js");require("../../sub-common/5b7fcb207250c7ec2e845bf998a9698d.js");require("../../sub-common/4f3d5ede90167244c576135c2de94c90.js");require("../../sub-common/39c39957f752351aa112f351f436cbe6.js");require("../../sub-common/03589f7f858b844541eb6f34e507810f.js");require("../../sub-common/f1997d4453a529809a3f750e2e00cf03.js");require("../../sub-common/f1abf2097761c1ddee3ea2a35782d46d.js");require("../../sub-common/3ef7e1f693ff45b6f449935f3962f608.js");require("../../sub-common/793716078355b1ed5f730f6337272838.js");require("../../sub-common/3e02d28114ad95ec6c4ebea697695e01.js");require("../../sub-common/8ea1a1287bb0a3e8047591021d0da81e.js");require("../../sub-common/1adad43154f80f367c099ae0c2786faf.js");require("../../sub-common/df4baec3d76eb7b41d6c9ebe45043714.js");require("../../sub-common/81a3eeca74630f2a71c90b1a79792bd5.js");require("../../sub-common/b5531c74993b0e6c875ccbf24733d252.js");require("../../sub-common/a823d71cd753c447063a7cc1057320c6.js");require("../../sub-common/ecb6d18ecfc31802909501fdb632f817.js");require("../../sub-common/091ca92f4fa48083dc2da1ad4a302541.js");require("../../sub-common/ce98869fa3f3ac1ba55389ccd5fa36bd.js");require("../../sub-common/edfb176eda72ce4e439d5eda8bdb3d32.js");require("../../sub-common/a14eecf3e6a9ec67a36770da59e92b4e.js");require("../../sub-common/249e8f5d6fa274c5e917e420311d1dbe.js");require("../../sub-common/dd6730ebd3c61564e3986159dc59da4a.js");require("../../sub-common/b395fac474bdca58218b3bb726549e6c.js");require("../../sub-common/a0b1fc0c38b1cc756112f08489e20a1a.js");require("../../sub-common/9c20ab6f00c34d8d3daca184c7e10a31.js");require("../../sub-common/b975a4f7532ef37378e4e062efe6b94a.js");require("../../sub-common/ad5400de231f67d9d7571569ca99024d.js");require("../../sub-common/8ce61c5087b10d3752487da3efc3c80b.js");require("../../sub-common/4a441ce8ea6633e46fa876b89c5989c4.js");require("../../sub-common/a9a16586908eae908ad2d57704d394f2.js");require("../../sub-common/ff16a1120696face4aa4bdccb78faf14.js");require("../../sub-common/b260aea00547319049e50a5658a8e471.js");require("../../sub-common/0b0cfb5710cb4f1c6b6dd6c4e8adfbf0.js");require("../../sub-common/2f22a4b57b97e7ebf0c26fc78f85e3d7.js");require("../../sub-common/4ab1ac880daabb2373963b485334b3cb.js");require("../../sub-common/12702cfb32531b5ebdc3365f120aca73.js");require("../../sub-common/48fa954e4a9e4a29ca4c8756090f4552.js");require("../../sub-common/080b9943c602c8a7acb6ecf5318e5565.js");require("../../sub-common/2a6d820bb777c209c4b037de6a3a9c5e.js");require("../../sub-common/6cdc360ccc7aa6d273ad94b6e530db1d.js");require("../../sub-common/6eab6f4e5446b739ccb8fd89a1b76d74.js");require("../../sub-common/c40945b6796542db388af13d22912baf.js");require("../../sub-common/07c02481c5e6502a5df936dc75ca8fcc.js");require("../../sub-common/eb13c4f39844145413e2ee34b2449225.js");require("../../sub-common/315c14bf030faea4e99ebfc9791ff88b.js");require("../../sub-common/a3205809b5df973211533287e8fbd928.js");require("../../sub-common/9a3af5c9dd88254531521a8b6dad1bfb.js");require("../../sub-common/18e39e13c341e59374c6d27e062ed664.js");require("../../sub-common/3f6add7a297c1c12bd497aaae2385281.js");require("../../sub-common/b196ef8ceeeeff042ca8e736da18ea83.js");require("../../sub-common/f6715aedae2393165b5d0697d6166643.js");require("../../sub-common/1665be7a5dd00aba9b37d8c00327d0bb.js");require("../../sub-common/5ef06e55aec97a834e922531eb96b33c.js");
(wx["webpackJsonp"] = wx["webpackJsonp"] || []).push([["pkgcommodity/page/commodity/CommodityPublish"],{

/***/ "./src/static/images/p/setting2.png":
/*!******************************************!*\
  !*** ./src/static/images/p/setting2.png ***!
  \******************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

module.exports = __webpack_require__.p + "static/images/p/setting2.png";

/***/ }),

/***/ "./node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pkgcommodity/page/commodity/CommodityPublish!./src/pkgcommodity/page/commodity/CommodityPublish.tsx":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pkgcommodity/page/commodity/CommodityPublish!./src/pkgcommodity/page/commodity/CommodityPublish.tsx ***!
  \**********************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js */ "./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/container/remote/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tsx/common/JsUtil */ "./src/common/JsUtil.tsx");
/* harmony import */ var tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tsx/common/Constant */ "./src/common/Constant.tsx");
/* harmony import */ var tsx_layout_HeadLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tsx/layout/HeadLayout */ "./src/layout/HeadLayout.tsx");
/* harmony import */ var _CommodityFirst__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CommodityFirst */ "./src/pkgcommodity/page/commodity/CommodityFirst.tsx");
/* harmony import */ var _CommoditySecond__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CommoditySecond */ "./src/pkgcommodity/page/commodity/CommoditySecond.tsx");
/* harmony import */ var _CommodityThird__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CommodityThird */ "./src/pkgcommodity/page/commodity/CommodityThird.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ "webpack/container/remote/react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);














var CommodityPublish = /*#__PURE__*/function (_React$Component) {
  function CommodityPublish(props) {
    var _this;
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_8__["default"])(this, CommodityPublish);
    _this = (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_9__["default"])(this, CommodityPublish, [props]);
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "thirdRef", /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createRef());
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "menuParam", void 0);
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "next", function () {
      var deliveryArr = _this.state.deliveryArr;
      var totalRealSteps = deliveryArr.length + 1;
      var activeStep = _this.state.activeStep;
      if (activeStep == 0) {
        if (!_this.state.operatorId) {
          tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].showMsgBox(_this, "\u8BF7\u9009\u62E9\u8FD0\u8425\u4E2D\u5FC3");
          return;
        }
        if (deliveryArr.length == 0) {
          tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].showMsgBox(_this, "\u8BF7\u9009\u62E9\u914D\u9001\u7C7B\u578B");
          return;
        }
        for (var i = 0; i < deliveryArr.length; i++) {
          if (deliveryArr[i] == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].DELIVERY_TYPE_ONLINE && deliveryArr.length > 1) {
            tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].showMsgBox(_this, '在线运输不能和其它配送类型一起使用');
            return;
          }
        }
        if (!_this.state.categories[2]) {
          tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].showMsgBox(_this, "\u8BF7\u9009\u62E9\u5546\u54C1\u5206\u7C7B");
          return;
        }
      } else if (activeStep > 0 && activeStep < totalRealSteps) {
        var deliveryType = _this.state.deliveryArr[activeStep - 1];
        var fromAddrIdsKey = 'fromAddrIds' + deliveryType;
        var fromIdArr4CurrDeliType = _this.state[fromAddrIdsKey];
        if (fromIdArr4CurrDeliType.length == 0) {
          tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].showMsgBox(_this, "\u8BF7\u9009\u62E9\u53D1\u8D27\u5730\u5740");
          return;
        }
      }
      if (activeStep < totalRealSteps) {
        activeStep = activeStep + 1;
        _this.setState({
          activeStep: activeStep
        });
      }
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "previous", function () {
      var totalSteps = _this.state.deliveryArr.length + 1;
      var activeStep = _this.state.activeStep;
      if (activeStep > totalSteps) {
        activeStep = totalSteps;
      }
      if (activeStep > 0) {
        activeStep = activeStep - 1;
      }
      _this.setState({
        activeStep: activeStep
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "save", function () {
      _this.thirdRef.current.submit(_this.state.deliveryArr);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "setCommodityThird", function (commodityThird) {
      _this.setState({
        commodityThird: commodityThird
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "setOperatorId", function (operatorId) {
      _this.setState({
        operatorId: operatorId
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "setCategories", function (categories) {
      _this.setState({
        categories: categories
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "setDeliveryType", function (deliveryType) {
      _this.setState({
        deliveryType: deliveryType
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "setDeliveryArr", function (deliveryArr) {
      _this.setState({
        deliveryArr: deliveryArr
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "setFromAddrIds", function (deliveryArr, getFromAddrIds0) {
      if (!deliveryArr) return;
      deliveryArr.map(function (deliveryType) {
        _this.setState((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])({}, 'fromAddrIds' + deliveryType, tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].getFromAddrIds(deliveryType, getFromAddrIds0)));
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "setFromIdArr4CurrDeliType", function (fromIdArr4CurrDeliType) {
      var deliveryType = _this.state.deliveryArr[_this.state.activeStep - 1];
      var fromAddrIdsKey = 'fromAddrIds' + deliveryType;
      _this.setState((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])({}, fromAddrIdsKey, fromIdArr4CurrDeliType));
    });
    _this.params = tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].getUrlParams(_this);
    _this.state = {
      mode: _this.params.mode || tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_NEW,
      commodityThird: null,
      activeStep: _this.params.activeStep || 0,
      operatorId: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].ID_HQ,
      deliveryArr: [],
      deliveryType: '',
      categories: [],
      fromAddrIds1: [],
      fromAddrIds3: [],
      fromAddrIds5: [],
      fromAddrIds7: [],
      fromAddrIds9: []
    };
    return _this;
  }
  (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_11__["default"])(CommodityPublish, _React$Component);
  return (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_12__["default"])(CommodityPublish, [{
    key: "componentDidMount",
    value: function componentDidMount() {}
  }, {
    key: "getStepsTitles",
    value: function getStepsTitles() {
      var titles = ['配送类型商品分类'];
      var deliveryArr = this.state.deliveryArr;
      deliveryArr.map(function (item) {
        return titles.push(tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].getDeliveryName(parseInt(item)) + '发货地址');
      });
      titles.push('商品详细信息');
      return titles;
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
        activeStep = _this$state.activeStep,
        deliveryArr = _this$state.deliveryArr;
      var totalSteps = deliveryArr.length + 1;
      var deliveryType = deliveryArr[activeStep - 1];
      var fromAddrIdsKey = 'fromAddrIds' + deliveryType;
      var fromIdArr4CurrDeliType = this.state[fromAddrIdsKey];
      var stepTitles = this.getStepsTitles();
      var fromAddrIds = [1].concat((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_13__["default"])(this.state.fromAddrIds1), [3], (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_13__["default"])(this.state.fromAddrIds3), [5], (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_13__["default"])(this.state.fromAddrIds5), [7], (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_13__["default"])(this.state.fromAddrIds7), [9], (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_13__["default"])(this.state.fromAddrIds9));
      var previousLabel = activeStep > 0 ? '上步' : '';
      var nextLabel = activeStep < totalSteps ? '下步' : '';
      var saveLabel = activeStep >= totalSteps ? '保存' : '';
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(tsx_layout_HeadLayout__WEBPACK_IMPORTED_MODULE_3__["default"], {
        that: this,
        topNavBarTitle: stepTitles[activeStep],
        bottomLabel3: previousLabel,
        bottomFunc3: this.previous,
        bottomLabel6: nextLabel,
        bottomFunc6: this.next,
        bottomLabel8: saveLabel,
        bottomFunc8: this.save,
        children: [activeStep == 0 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_CommodityFirst__WEBPACK_IMPORTED_MODULE_4__["default"], {
          that: this,
          mode: this.state.mode,
          deliveryArr: deliveryArr,
          setDeliveryArr: this.setDeliveryArr,
          categories: this.state.categories,
          setCategories: this.setCategories,
          children: "\u9009\u62E9\u5546\u54C1\u5206\u7C7B"
        }), activeStep > 0 && activeStep < totalSteps && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_CommoditySecond__WEBPACK_IMPORTED_MODULE_5__["default"], {
          that: this,
          mode: this.state.mode,
          operatorId: this.state.operatorId,
          deliveryType: deliveryType,
          fromIdArr4CurrDeliType: fromIdArr4CurrDeliType,
          setFromIdArr4CurrDeliType: this.setFromIdArr4CurrDeliType,
          children: "\u9009\u62E9\u53D1\u8D27\u5730\u5740"
        }), activeStep >= totalSteps && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(_CommodityThird__WEBPACK_IMPORTED_MODULE_6__["default"], {
          that: this,
          mode: this.state.mode,
          operatorId: this.state.operatorId,
          setOperatorId: this.setOperatorId,
          deliveryArr: deliveryArr,
          setDeliveryArr: this.setDeliveryArr,
          setDeliveryType: this.setDeliveryType,
          fromAddrIds: fromAddrIds,
          setFromAddrIds: this.setFromAddrIds,
          categories: this.state.categories,
          setCategories: this.setCategories,
          ref: this.thirdRef,
          children: "\u586B\u5199\u5546\u54C1\u8BE6\u7EC6\u4FE1\u606F"
        })]
      });
    }
  }]);
}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));
/* harmony default export */ __webpack_exports__["default"] = (CommodityPublish);

/***/ }),

/***/ "./src/component/CategoryField3.tsx":
/*!******************************************!*\
  !*** ./src/component/CategoryField3.tsx ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/container/remote/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tsx/common/JsUtil */ "./src/common/JsUtil.tsx");
/* harmony import */ var tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tsx/common/Constant */ "./src/common/Constant.tsx");
/* harmony import */ var tsx_view_BaseView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tsx/view/BaseView */ "./src/view/BaseView.tsx");
/* harmony import */ var tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tsx/view/BrView */ "./src/view/BrView.tsx");
/* harmony import */ var tsx_form_SelectInput__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tsx/form/SelectInput */ "./src/form/SelectInput.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "webpack/container/remote/react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);












var CategoryField3 = /*#__PURE__*/function (_React$Component) {
  function CategoryField3(props) {
    var _this;
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__["default"])(this, CategoryField3);
    _this = (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_8__["default"])(this, CategoryField3, [props]);
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_this, "init", function () {
      var categoryArr = _this.props.value;
      if (categoryArr && categoryArr[2]) {
        _this.loadCategoryTreeInfoByBottomId(categoryArr[2]);
        return;
      }
      var param = {
        parentId: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].ID_TOP_CATEGORY
      };
      var succ = function succ(result) {
        if (tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this, result)) {
          var options = result.body;
          _this.setState({
            category1Options: options
          });
        }
      };
      var err = function err(result) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this, result, true);
      };
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpPost(_this, '/cm/pub/category/search', JSON.stringify(param), succ, err);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_this, "loadCategoryTreeInfoByBottomId", function (category3Id) {
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpGet(_this, "/cm/pub/category/load/search?id=".concat(category3Id), function (category3Res) {
        var category2Id = category3Res.body.parentId;
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpPost(_this, '/cm/pub/category/search', JSON.stringify({
          parentId: category2Id
        }), function (categories3Res) {
          var options = categories3Res.body;
          var entity = options.find(function (e) {
            return e.id == category3Id;
          });
          _this.setState({
            category3Options: options,
            category3Id: entity ? entity.id : null
          });
          tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpGet(_this, "/cm/pub/category/load/search?id=".concat(category2Id), function (category2Res) {
            var category1Id = category2Res.body.parentId;
            tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpPost(_this, '/cm/pub/category/search', JSON.stringify({
              parentId: category1Id
            }), function (categories2Res) {
              var options = categories2Res.body;
              var entity = options.find(function (e) {
                return e.id == category2Id;
              });
              _this.setState({
                category2Options: options,
                category2Id: entity ? entity.id : null
              });
              tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpPost(_this, '/cm/pub/category/search', JSON.stringify({
                parentId: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].ID_TOP_REGION
              }), function (categories1Res) {
                var options = categories1Res.body;
                var entity = options.find(function (e) {
                  return e.id == category1Id;
                });
                _this.setState({
                  category1Options: options,
                  category1Id: entity ? entity.id : null
                });
              }, function (category1Err) {
                return console.log(category1Err);
              });
            }, function (categories2Err) {
              return console.log(categories2Err);
            });
          }, function (category2Err) {
            return console.log(category2Err);
          });
        }, function (categories3Err) {
          return console.log(categories3Err);
        });
      }, function (category3Err) {
        return console.log(category3Err);
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_this, "category1Changed", function (selectedItem) {
      var id = selectedItem.id;
      var selectedEntity = _this.state.category1Options.find(function (entity) {
        return entity.id = id;
      });
      if (!selectedEntity) return;
      var params = {
        parentId: id
      };
      var succ = function succ(result) {
        _this.setState({
          category1Id: id,
          category2Options: result.body,
          category3Options: []
        });
        _this.props.onChange([id, null, null]);
      };
      var err = function err(result) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this, result, true);
      };
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpPost(_this, '/cm/pub/category/search', JSON.stringify(params), succ, err);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_this, "category2Changed", function (selectedItem) {
      var id = selectedItem.id;
      var selectedEntity = _this.state.category2Options.find(function (entity) {
        return entity.id = id;
      });
      if (!selectedEntity) return;
      var params = {
        parentId: id
      };
      var succ = function succ(result) {
        var category3Options = result.body;
        var category1Id = _this.state.category1Id;
        _this.setState({
          category2Id: id,
          category3Options: category3Options
        });
        _this.props.onChange([category1Id, id, null]);
      };
      var err = function err(result) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this, result, true);
      };
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpPost(_this, '/cm/pub/category/search', JSON.stringify(params), succ, err);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_this, "category3Changed", function (selectedItem) {
      var id = selectedItem.id;
      var selectedEntity = _this.state.category3Options.find(function (entity) {
        return entity.id = id;
      });
      if (!selectedEntity) return;
      var category1Id = _this.state.category1Id;
      var category2Id = _this.state.category2Id;
      _this.setState({
        category3Id: id
      }, function () {
        return _this.props.onChange([category1Id, category2Id, id]);
      });
    });
    console.log('category 3 lifecycle method constructor');
    _this.state = {
      category1Id: null,
      category2Id: null,
      category3Id: null,
      category1Options: [],
      category2Options: [],
      category3Options: []
    };
    return _this;
  }
  (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_10__["default"])(CategoryField3, _React$Component);
  return (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_11__["default"])(CategoryField3, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      console.log('category 3 lifecycle method componentDidMount');
      this.init();
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      console.log('category 3 lifecycle method shouldComponentUpdate');
      return true;
    }
  }, {
    key: "getSnapshotBeforeUpdate",
    value: function getSnapshotBeforeUpdate() {
      console.log('category 3 lifecycle method getSnapshotBeforeUpdate');
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      console.log('category 3 lifecycle method componentDidUpdate');
    }
  }, {
    key: "componentDidCatch",
    value: function componentDidCatch() {
      console.log('category 3 lifecycle method componentDidCatch');
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      console.log('category 3 lifecycle method componentWillUnmount');
    }
  }, {
    key: "render",
    value: function render() {
      var mode = this.props.mode;
      var _this$state = this.state,
        category1Options = _this$state.category1Options,
        category2Options = _this$state.category2Options,
        category3Options = _this$state.category3Options;
      var _this$state2 = this.state,
        category1Id = _this$state2.category1Id,
        category2Id = _this$state2.category2Id,
        category3Id = _this$state2.category3Id;
      var labelKey = 'categoryFullName';
      var valueKey = 'id';
      var label1 = this.props.label1 ? this.props.label1 : '商品大分类';
      var disabled = false;
      if (mode == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_VIEW) disabled = true;
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(tsx_view_BaseView__WEBPACK_IMPORTED_MODULE_3__["default"], {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(tsx_form_SelectInput__WEBPACK_IMPORTED_MODULE_5__["default"], {
          options: category1Options,
          labelKey: labelKey,
          valueKey: valueKey,
          value: category1Id,
          onChange: this.category1Changed,
          label: label1,
          disabled: disabled
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(tsx_form_SelectInput__WEBPACK_IMPORTED_MODULE_5__["default"], {
          options: category2Options,
          labelKey: labelKey,
          valueKey: valueKey,
          value: category2Id,
          onChange: this.category2Changed,
          label: '商品中分类',
          disabled: disabled
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(tsx_form_SelectInput__WEBPACK_IMPORTED_MODULE_5__["default"], {
          options: category3Options,
          labelKey: labelKey,
          valueKey: valueKey,
          value: category3Id,
          onChange: this.category3Changed,
          label: '商品小分类',
          disabled: disabled
        })]
      });
    }
  }], [{
    key: "getDerivedStateFromError",
    value: function getDerivedStateFromError(error) {
      console.log('category 3 lifecycle method getDerivedStateFromError');
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, state) {
      console.log('category 3 lifecycle method getDerivedStateFromProps');
    }
  }]);
}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));
/* harmony default export */ __webpack_exports__["default"] = (CategoryField3);

/***/ }),

/***/ "./src/form/RichTextInput.tsx":
/*!************************************!*\
  !*** ./src/form/RichTextInput.tsx ***!
  \************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/container/remote/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @tarojs/taro */ "webpack/container/remote/@tarojs/taro");
/* harmony import */ var _tarojs_taro__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_tarojs_taro__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _tarojs_components__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @tarojs/components */ "./node_modules/@tarojs/plugin-platform-weapp/dist/components-react.js");
/* harmony import */ var tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tsx/common/JsUtil */ "./src/common/JsUtil.tsx");
/* harmony import */ var tsx_view_DivView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tsx/view/DivView */ "./src/view/DivView.tsx");
/* harmony import */ var tsx_view_SimpleIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tsx/view/SimpleIcon */ "./src/view/SimpleIcon.tsx");
/* harmony import */ var img_p_setting2_png__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! img/p/setting2.png */ "./src/static/images/p/setting2.png");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react/jsx-runtime */ "webpack/container/remote/react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__);













var RichTextInput = /*#__PURE__*/function (_React$Component) {
  function RichTextInput(props) {
    var _this;
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_7__["default"])(this, RichTextInput);
    _this = (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_8__["default"])(this, RichTextInput, [props]);
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_this, "editorCtx", void 0);
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_this, "onEditorReady", function () {
      var value = _this.props.value;
      _tarojs_taro__WEBPACK_IMPORTED_MODULE_1___default().createSelectorQuery().select('#editor').context(function (res) {
        if (res) {
          _this.editorCtx = res.context;
          console.log(value);
          if (value) _this.editorCtx.setContents({
            html: value
          });
        }
      }).exec();
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_this, "onStatusChange", function (event) {
      _this.setState({
        editorFormat: event.detail
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_this, "onEditorInput", function (event) {
      var value = event.detail.html;
      _this.props.onChange(value);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_this, "onEditorBlur", function (event) {
      var value = event.detail.html;
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_this, "onAddImage", function (event) {
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_2__["default"].onFileUpload(_this, {
        count: 10
      }, _this.uploadCallback);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_9__["default"])(_this, "uploadCallback", function (result, idx) {
      _this.editorCtx.insertImage({
        src: tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_2__["default"].IMAGE_PREFIX + result.body,
        data: {
          id: 'cmdu-' + idx,
          role: 'god'
        },
        width: 300,
        success: function success(result2) {
          console.log(result2);
        }
      });
    });
    _this.state = {
      editorFormat: {}
    };
    return _this;
  }
  (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_10__["default"])(RichTextInput, _React$Component);
  return (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_11__["default"])(RichTextInput, [{
    key: "render",
    value: function render() {
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsxs)(tsx_view_DivView__WEBPACK_IMPORTED_MODULE_3__["default"], {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(_tarojs_components__WEBPACK_IMPORTED_MODULE_12__.Editor, {
          id: "editor",
          className: "editor",
          placeholder: "\u8BF7\u8F93\u5165\u5185\u5BB9...",
          onReady: this.onEditorReady,
          onInput: this.onEditorInput,
          onStatuschange: this.onStatusChange,
          onBlur: this.onEditorBlur
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.jsx)(tsx_view_SimpleIcon__WEBPACK_IMPORTED_MODULE_4__["default"], {
          value: img_p_setting2_png__WEBPACK_IMPORTED_MODULE_5__,
          color: "#3F51B5",
          onClick: this.onAddImage
        })]
      });
    }
  }]);
}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));
/* harmony default export */ __webpack_exports__["default"] = (RichTextInput);

/***/ }),

/***/ "./src/pkgcommodity/page/commodity/CommodityFirst.tsx":
/*!************************************************************!*\
  !*** ./src/pkgcommodity/page/commodity/CommodityFirst.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/container/remote/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tsx/common/JsUtil */ "./src/common/JsUtil.tsx");
/* harmony import */ var tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tsx/common/Constant */ "./src/common/Constant.tsx");
/* harmony import */ var tsx_layout_ColumnLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tsx/layout/ColumnLayout */ "./src/layout/ColumnLayout.tsx");
/* harmony import */ var tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tsx/view/BrView */ "./src/view/BrView.tsx");
/* harmony import */ var tsx_view_TextLabel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tsx/view/TextLabel */ "./src/view/TextLabel.tsx");
/* harmony import */ var tsx_component_CategoryField3__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tsx/component/CategoryField3 */ "./src/component/CategoryField3.tsx");
/* harmony import */ var tsx_component_OperatorSelect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! tsx/component/OperatorSelect */ "./src/component/OperatorSelect.tsx");
/* harmony import */ var tsx_form_CheckBoxes__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! tsx/form/CheckBoxes */ "./src/form/CheckBoxes.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react/jsx-runtime */ "webpack/container/remote/react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__);
















var CommodityFirst = /*#__PURE__*/function (_React$Component) {
  function CommodityFirst(props) {
    var _this;
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_10__["default"])(this, CommodityFirst);
    _this = (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_11__["default"])(this, CommodityFirst, [props]);
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_12__["default"])(_this, "labels0", {
      operatorName: '运营中心名称',
      deliveryType: '配送类型',
      memberId: '用户编号'
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_12__["default"])(_this, "labels", (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_13__["default"])({}, _this.label0));
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_12__["default"])(_this, "setDeliveryArr", function (name, deliveryArr) {
      _this.props.setDeliveryArr(deliveryArr);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_12__["default"])(_this, "setCategories", function (categories) {
      _this.props.setCategories(categories);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_12__["default"])(_this, "onConfirm", function () {
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].closeMsgBox(_this);
    });
    _this.params = tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].getUrlParams(_this);
    _this.opOptionType = _this.params.mallType == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].MALL_TYPE_R_B2C ? tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].OP_OPTION_TYPE_SUPPLIER : '';
    _this.currOrgId = tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].getAppItem('currOrgId');
    _this.currOrgType = tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].getAppItem('currOrgType');
    _this.state = {
      mode: _this.params.mode || tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_NEW,
      operatorId: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].ID_HQ,
      operatorOptions: [],
      deliveryOptions: [{
        value: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].DELIVERY_TYPE_EXPRESS,
        label: '快递  '
      }, {
        value: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].DELIVERY_TYPE_EXPRESS_CHANGE,
        label: '转运  '
      }, {
        value: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].DELIVERY_TYPE_IMMEDIATELY,
        label: '即时送'
      }, {
        value: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].DELIVERY_TYPE_SELF_PICKUP,
        label: '自提'
      }, {
        value: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].DELIVERY_TYPE_ONLINE,
        label: '在线运输'
      }],
      messages: {}
    };
    return _this;
  }
  (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_14__["default"])(CommodityFirst, _React$Component);
  return (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_15__["default"])(CommodityFirst, [{
    key: "componentDidMount",
    value: function componentDidMount() {}
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(tsx_layout_ColumnLayout__WEBPACK_IMPORTED_MODULE_3__["default"], {
        children: [this.opOptionType && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(tsx_component_OperatorSelect__WEBPACK_IMPORTED_MODULE_7__["default"], {
          mode: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_NEW,
          optionType: this.opOptionType,
          checkedId: '',
          that: this
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(tsx_view_TextLabel__WEBPACK_IMPORTED_MODULE_5__["default"], {
          children: "\u914D\u9001\u7C7B\u578B"
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(tsx_form_CheckBoxes__WEBPACK_IMPORTED_MODULE_8__["default"], {
          name: 'deliveryArr',
          label: this.labels.deliveryType,
          options: this.state.deliveryOptions,
          value: this.props.deliveryArr,
          onChange: this.setDeliveryArr
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(tsx_component_CategoryField3__WEBPACK_IMPORTED_MODULE_6__["default"], {
          value: this.props.categories,
          onChange: function onChange(categories) {
            return _this2.setCategories(categories);
          }
        })]
      });
    }
  }]);
}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));
/* harmony default export */ __webpack_exports__["default"] = (CommodityFirst);

/***/ }),

/***/ "./src/pkgcommodity/page/commodity/CommodityPublish.tsx":
/*!**************************************************************!*\
  !*** ./src/pkgcommodity/page/commodity/CommodityPublish.tsx ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) {

/* harmony import */ var _tarojs_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tarojs/runtime */ "webpack/container/remote/@tarojs/runtime");
/* harmony import */ var _tarojs_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_tarojs_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_tarojs_taro_loader_lib_entry_cache_js_name_pkgcommodity_page_commodity_CommodityPublish_CommodityPublish_tsx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pkgcommodity/page/commodity/CommodityPublish!./CommodityPublish.tsx */ "./node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pkgcommodity/page/commodity/CommodityPublish!./src/pkgcommodity/page/commodity/CommodityPublish.tsx");


var config = {};


var inst = Page((0,_tarojs_runtime__WEBPACK_IMPORTED_MODULE_0__.createPageConfig)(_node_modules_tarojs_taro_loader_lib_entry_cache_js_name_pkgcommodity_page_commodity_CommodityPublish_CommodityPublish_tsx__WEBPACK_IMPORTED_MODULE_1__["default"], 'pkgcommodity/page/commodity/CommodityPublish', {root:{cn:[]}}, config || {}))


/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_tarojs_taro_loader_lib_entry_cache_js_name_pkgcommodity_page_commodity_CommodityPublish_CommodityPublish_tsx__WEBPACK_IMPORTED_MODULE_1__["default"]);


/***/ }),

/***/ "./src/pkgcommodity/page/commodity/CommoditySecond.tsx":
/*!*************************************************************!*\
  !*** ./src/pkgcommodity/page/commodity/CommoditySecond.tsx ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/container/remote/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tsx/common/JsUtil */ "./src/common/JsUtil.tsx");
/* harmony import */ var tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tsx/common/Constant */ "./src/common/Constant.tsx");
/* harmony import */ var tsx_layout_ColumnLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tsx/layout/ColumnLayout */ "./src/layout/ColumnLayout.tsx");
/* harmony import */ var tsx_layout_RowLayout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tsx/layout/RowLayout */ "./src/layout/RowLayout.tsx");
/* harmony import */ var tsx_view_TextLabel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tsx/view/TextLabel */ "./src/view/TextLabel.tsx");
/* harmony import */ var tsx_form_CascadeBox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tsx/form/CascadeBox */ "./src/form/CascadeBox.tsx");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react/jsx-runtime */ "webpack/container/remote/react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__);













var CommoditySecond = /*#__PURE__*/function (_React$Component) {
  function CommoditySecond(props) {
    var _this;
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_8__["default"])(this, CommoditySecond);
    _this = (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_9__["default"])(this, CommoditySecond, [props]);
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "checkedAllList", []);
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "currOrgId", tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].getAppItem('currOrgId'));
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "fetchFromAddrIds", function (deliveryType, operatorId, supplierId) {
      // 查找非转运地址列表
      var param = "deliveryType=".concat(deliveryType, "&operatorId=").concat(operatorId, "&supplierId=").concat(supplierId);
      console.log('param: ', param);
      var uri = '/lg/pub/receipt/address/organization/from/search';
      var succ = function succ(result) {
        if (tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this.that, result)) {
          var entities = result.body;
          if (entities.length == 0) {
            tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].showMsgBox(_this.that, deliveryType + ': 无此类型的发货地址, 不能发布此配送类型的商品');
            return;
          }
          _this.setState({
            entities: entities
          });
          entities.map(function (item, idx) {
            _this.checkedAllList.push(item.id);
          });
        }
      };
      var err = function err(result) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this.that, result, true);
      };
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpPost(_this.that, uri, param, succ, err, tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].REQUEST_TYPE_WWW);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "getOptions", function (records) {
      var options = [];
      records.map(function (item, indx) {
        var desc = /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(tsx_layout_RowLayout__WEBPACK_IMPORTED_MODULE_4__["default"], {
          children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsxs)(tsx_view_TextLabel__WEBPACK_IMPORTED_MODULE_5__["default"], {
            children: [item.regionFullName, item.detailAddress]
          })
        });
        options.push({
          value: item.id,
          label: item.subjectName,
          desc: desc
        });
      });
      return options;
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "onCheckBoxesAllChanged", function (name, selectedValues) {
      if (selectedValues.length == 0) {
        _this.setState((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])({}, name, []));
      } else {
        _this.setState((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])({}, name, _this.checkedAllList));
      }
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "onCascadeBoxChanged", function (name, selectedValues) {
      _this.setState((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])({}, name, selectedValues));
      _this.props.setFromIdArr4CurrDeliType(selectedValues);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "onClose", function (name) {
      _this.setState((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])({}, name, false));
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_10__["default"])(_this, "onConfirm", function () {
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].closeMsgBox(_this.that);
    });
    console.log('commodity second lifecycle method constructor');
    _this.params = tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].getUrlParams(_this);
    _this.that = _this.props.that;
    _this.state = {
      mode: _this.params.mode || tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_NEW,
      entities: [],
      fromIdArr4CurrDeliType: _this.props.fromIdArr4CurrDeliType
    };
    return _this;
  }
  (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_11__["default"])(CommoditySecond, _React$Component);
  return (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_12__["default"])(CommoditySecond, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      console.log('commodity second lifecycle method componentDidMount');
      this.fetchFromAddrIds(this.props.deliveryType, this.props.operatorId, this.currOrgId);
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      console.log('commodity second lifecycle method shouldComponentUpdate');
      if (this.state.mode == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_EDIT) return true;
      return true;
    }
  }, {
    key: "getSnapshotBeforeUpdate",
    value: function getSnapshotBeforeUpdate() {
      console.log('commodity second lifecycle method getSnapshotBeforeUpdate');
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      console.log('commodity second lifecycle method componentDidUpdate');
      if (prevProps.fromIdArr4CurrDeliType != this.props.fromIdArr4CurrDeliType) {
        this.setState({
          fromIdArr4CurrDeliType: this.props.fromIdArr4CurrDeliType
        });
      }
    }
  }, {
    key: "componentDidCatch",
    value: function componentDidCatch() {
      console.log('commodity second lifecycle method componentDidCatch');
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      console.log('commodity second lifecycle method componentWillUnmount');
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state = this.state,
        entities = _this$state.entities,
        fromIdArr4CurrDeliType = _this$state.fromIdArr4CurrDeliType;
      var options = this.getOptions(entities);
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(tsx_layout_ColumnLayout__WEBPACK_IMPORTED_MODULE_3__["default"], {
        children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.jsx)(tsx_form_CascadeBox__WEBPACK_IMPORTED_MODULE_6__["default"], {
          name: "fromIdArr4CurrDeliType",
          options: options,
          value: fromIdArr4CurrDeliType,
          onChange: this.onCascadeBoxChanged
        })
      });
    }
  }], [{
    key: "getDerivedStateFromError",
    value: function getDerivedStateFromError(error) {
      console.log('commodity second lifecycle method getDerivedStateFromError');
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, state) {
      console.log('commodity second lifecycle method getDerivedStateFromProps');
    }
  }]);
}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));
/* harmony default export */ __webpack_exports__["default"] = (CommoditySecond);

/***/ }),

/***/ "./src/pkgcommodity/page/commodity/CommodityThird.tsx":
/*!************************************************************!*\
  !*** ./src/pkgcommodity/page/commodity/CommodityThird.tsx ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js */ "./node_modules/@babel/runtime/helpers/esm/objectSpread2.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js */ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/createClass.js */ "./node_modules/@babel/runtime/helpers/esm/createClass.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/callSuper.js */ "./node_modules/@babel/runtime/helpers/esm/callSuper.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/inherits.js */ "./node_modules/@babel/runtime/helpers/esm/inherits.js");
/* harmony import */ var c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/defineProperty.js */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "webpack/container/remote/react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var validator__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! validator */ "./node_modules/validator/index.js");
/* harmony import */ var validator__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(validator__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tsx/common/JsUtil */ "./src/common/JsUtil.tsx");
/* harmony import */ var tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tsx/common/Constant */ "./src/common/Constant.tsx");
/* harmony import */ var tsx_layout_ColumnLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tsx/layout/ColumnLayout */ "./src/layout/ColumnLayout.tsx");
/* harmony import */ var tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tsx/view/BrView */ "./src/view/BrView.tsx");
/* harmony import */ var tsx_view_TextLabel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! tsx/view/TextLabel */ "./src/view/TextLabel.tsx");
/* harmony import */ var tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! tsx/form/GeneralInput */ "./src/form/GeneralInput.tsx");
/* harmony import */ var tsx_form_ImagePicker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! tsx/form/ImagePicker */ "./src/form/ImagePicker.tsx");
/* harmony import */ var tsx_form_RichTextInput__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! tsx/form/RichTextInput */ "./src/form/RichTextInput.tsx");
/* harmony import */ var tsx_form_SelectInput__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! tsx/form/SelectInput */ "./src/form/SelectInput.tsx");
/* harmony import */ var tsx_form_CascadeBox__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! tsx/form/CascadeBox */ "./src/form/CascadeBox.tsx");
/* harmony import */ var _CommodityUtil__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./CommodityUtil */ "./src/pkgcommodity/page/commodity/CommodityUtil.ts");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react/jsx-runtime */ "webpack/container/remote/react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__);




















var CommodityThird = /*#__PURE__*/function (_React$Component) {
  function CommodityThird(props) {
    var _this;
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_13__["default"])(this, CommodityThird);
    _this = (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_callSuper_js__WEBPACK_IMPORTED_MODULE_14__["default"])(this, CommodityThird, [props]);
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "supplierId", tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].getAppItem('currOrgId'));
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "labels0", {
      operatorId: '运营中心编号',
      commodityName: '商品名称',
      commodityNo: '商品货号',
      remark: '备注',
      freightTemplateId: '运费模板',
      deliveryType: "配送类型",
      payType: '支付类型',
      tradeType: '交易类型',
      grouponDays: '团购天数',
      grouponQty: '团购底数',
      supplierId: '供应商',
      BrandId: '品牌',
      attributes: '属性',
      userId: '用户',
      marketPrice: '市场价格',
      ourPrice: '售价',
      inventories: '库存',
      bigImageUri: '商品图片',
      descriptions: '商品详情',
      awardRate: '奖励比例',
      presentRate: '赠送比例',
      presentCycleUnit: '赠周单位',
      presentCycleQty: '赠周数量',
      voucherRate: '代金比例',
      settleRate: '结算比例',
      weight: '重量(克)',
      updateTime: '更新时间'
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "labels1", (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_16__["default"])({}, _this.labels0));
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "labels", (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_16__["default"])({}, _this.labels1));
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "load", function (id, mode) {
      var succ = function succ(result) {
        if (tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this.that, result)) {
          _this.operatorId = result.body.operatorId;
          _this.setState({
            entity: result.body
          });
          var _result$body = result.body,
            operatorId = _result$body.operatorId,
            category1Id = _result$body.category1Id,
            category2Id = _result$body.category2Id,
            category3Id = _result$body.category3Id,
            freightTemplateId = _result$body.freightTemplateId,
            BrandId = _result$body.BrandId,
            commodityName = _result$body.commodityName,
            remark = _result$body.remark,
            descriptions = _result$body.descriptions,
            payType = _result$body.payType,
            tradeType = _result$body.tradeType,
            deliveryTypes = _result$body.deliveryTypes,
            deliveryType = _result$body.deliveryType,
            grouponDays = _result$body.grouponDays,
            grouponQty = _result$body.grouponQty,
            commodityNo = _result$body.commodityNo,
            bigImageUri = _result$body.bigImageUri,
            awardRate = _result$body.awardRate,
            presentRate = _result$body.presentRate,
            presentCycleUnit = _result$body.presentCycleUnit,
            presentCycleQty = _result$body.presentCycleQty,
            voucherRate = _result$body.voucherRate,
            settleRate = _result$body.settleRate,
            weight = _result$body.weight,
            fromAddrIds = _result$body.fromAddrIds,
            updateTime = _result$body.updateTime,
            commoditySpecs = _result$body.commoditySpecs,
            attributes = _result$body.attributes;
          if (mode == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_VIEW) {
            _this.setState({
              disabled: true
            });
          }
          _this.that.setOperatorId(operatorId);
          _this.that.setDeliveryType(deliveryType);
          _this.that.setDeliveryArr(deliveryTypes);
          _this.that.setCategories([category1Id, category2Id, category3Id]);
          _this.that.setFromAddrIds(deliveryTypes, fromAddrIds);
          _this.deliveryArr = deliveryTypes;
          _this.fromAddrIds = fromAddrIds;
          var jsonAttributes = JSON.parse(attributes);
          _this.fetchCommoditySpecCategory(category3Id, commoditySpecs);
          _this.fetchCommodityAttribute(category3Id, jsonAttributes);
          _this.fetchBrandAndFreightTemplate();
          var imageArr = JSON.parse(bigImageUri);
          var imageFiles = [];
          imageArr.forEach(function (item, idx) {
            imageFiles.push({
              url: tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].IMAGE_PREFIX + item
            });
          });
          _this.setState((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])({
            operatorId: operatorId,
            commodityName: commodityName,
            freightTemplateId: freightTemplateId,
            remark: remark,
            awardRate: awardRate,
            presentRate: presentRate,
            presentCycleUnit: presentCycleUnit,
            presentCycleQty: presentCycleQty,
            voucherRate: voucherRate,
            settleRate: settleRate,
            weight: weight,
            descriptions: descriptions,
            BrandId: BrandId,
            bigImageUri: imageArr,
            bigImageFiles: imageFiles,
            payType: payType,
            tradeType: tradeType,
            grouponDays: grouponDays
          }, "grouponDays", grouponDays), "grouponQty", grouponQty), "commodityNo", commodityNo), "updateTime", updateTime));
        }
      };
      var err = function err(result) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this.that, result, true);
      };
      var uri = "/cm/pub/b2b/global/commodity/load/search";
      if (_this.params.mallType == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].MALL_TYPE_G_B2C) uri = "/cm/pub/b2c/global/commodity/load/search";
      if (_this.params.mallType == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].MALL_TYPE_R_B2B) uri = "/cm/pub/b2b/region/commodity/load/search";
      if (_this.params.mallType == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].MALL_TYPE_R_B2C) uri = "/cm/pub/b2c/region/commodity/load/search";
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpGet(_this.that, uri + "?id=".concat(id), succ, err);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "fetchCommoditySpecCategory", function (category3Id, commoditySpecs) {
      var succ = function succ(result) {
        if (tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this.that, result)) {
          var specEntityList = result.body;
          var specCheckedArr = [];
          var disabledSpec = [];
          for (var i = 0; i < specEntityList.length; i++) {
            specCheckedArr[i] = [];
            disabledSpec[i] = [];
            for (var j = 0; j <= specEntityList[i].specValues.length; j++) {
              specCheckedArr[i][j] = false;
              disabledSpec[i][j] = false;
            }
          }
          _this.setState({
            specCheckedArr: specCheckedArr,
            disabledSpec: disabledSpec,
            specEntities: specEntityList
          }, function () {
            return _this.setSpecs(commoditySpecs);
          });
        }
      };
      var err = function err(result) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this.that, result, true);
      };
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpPost(_this.that, "/cm/pub/spec/category/search", "categoryId=" + category3Id, succ, err, tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].REQUEST_TYPE_WWW);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "setSpecs", function (commoditySpecs) {
      var specEntities = _this.state.specEntities;
      var selectedSpecValueIds = [];
      specEntities.map(function () {
        return selectedSpecValueIds.push([]);
      });
      var specs = commoditySpecs;
      //this.setState({preSpecs: specs});
      specs.forEach(function (spec, specIdx) {
        var specValues = JSON.parse(spec.specValues);
        specValues.forEach(function (value, valueIndex) {
          var n = value.n,
            v = value.v,
            ni = value.ni,
            vi = value.vi;
          var idx = specEntities.findIndex(function (name) {
            return name.id == ni;
          });
          if (idx >= 0 && selectedSpecValueIds[idx].findIndex(function (element) {
            return element == vi;
          }) < 0) {
            var index2 = specEntities[idx].specValues.findIndex(function (commodityValue) {
              return vi == commodityValue.id;
            });
            _CommodityUtil__WEBPACK_IMPORTED_MODULE_11__["default"].specCheckChanged(_this, idx, index2, n, v, true);
            selectedSpecValueIds[idx].push(vi);
          }
        });
        _this.setState({
          selectedSpecValueIds: selectedSpecValueIds
        });
        _this.priceOrQtyValueChanged('specNo-' + spec.specName, spec.specName);
        _this.priceOrQtyValueChanged('marketPrice-' + spec.specName, spec.marketPrice);
        _this.priceOrQtyValueChanged('ourPrice-' + spec.specName, spec.ourPrice);
        _this.priceOrQtyValueChanged('inventories-' + spec.specName, spec.inventories);
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "fetchCommodityAttribute", function (category3Id, attributes) {
      var succ = function succ(result) {
        if (tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this.that, result)) {
          var attributeValues = [];
          for (var i = 0; i < result.body.length; i++) {
            attributeValues.push("");
          }
          _this.setState({
            attributeValues: attributeValues,
            attributeEntities: result.body
          }, function () {
            return _this.setAttributes(attributes);
          });
        }
      };
      var err = function err(result) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this.that, result, true);
      };
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpPost(_this.that, "/cm/pub/attribute/category/search?categoryId=" + category3Id, category3Id, succ, err);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "setAttributes", function (attributes) {
      var attributeEntities = _this.state.attributeEntities;
      attributeEntities.forEach(function (attributeEntity, idx) {
        var value = attributes.find(function (e) {
          return e.ni == attributeEntity.id;
        });
        if (!value) return;
        _this.attrValueChanged(idx, attributeEntity)({
          id: value.vi
        });
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "fetchBrandAndFreightTemplate", function () {
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpPost(_this.that, '/lg/pub/freight/template/search', JSON.stringify({
        operatorId: _this.operatorId,
        supplierId: _this.supplierId,
        mallType: _this.params.mallType
      }), function (result) {
        if (result.code == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].CODE_COMM_0_SUCCESS) {
          var ftEntities = result.body;
          //if (!ftEntities || ftEntities.length == 0) ftEntities = [{ id: cnst.ID_FREIGHT_TEMPLATE_DEFAULT, templateName: '包邮' }]
          _this.setState({
            freightTmpOptions: ftEntities
          });
        }
      }, function (err) {
        console.log('ftEntities err: ');
        console.log(err);
      });
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpPost(_this.that, '/cm/pub/brand/search', JSON.stringify({
        operatorId: _this.operatorId,
        supplierId: _this.supplierId
      }), function (result) {
        if (result.code == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].CODE_COMM_0_SUCCESS) {
          var BrandEntities = result.body;
          //if(!BrandEntities||BrandEntities.length==0) BrandEntities=[{id: cnst.ID_BRAND_DEFAULT, BrandName: '无牌'}]
          _this.setState({
            BrandOptions: BrandEntities
          });
        }
      }, function (err) {
        console.log('BrandEntities err: ');
        console.log(err);
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "submit", function (deliveryArr) {
      var _this$state = _this.state,
        priceAndQtyValues = _this$state.priceAndQtyValues,
        specEntities = _this$state.specEntities,
        combinedSpecValueNames = _this$state.combinedSpecValueNames,
        BrandId = _this$state.BrandId,
        freightTemplateId = _this$state.freightTemplateId,
        freightTemplate2Id = _this$state.freightTemplate2Id;
      if (!freightTemplateId || _this.hasImmediately(deliveryArr) && !freightTemplate2Id) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].showMsgBox(_this.that, '请选择运费模板');
        return;
      }
      var specCount = 1;
      _this.state.selectedSpecValueIds.forEach(function (item) {
        if (item.length == 0) {
          specCount = 0;
        } else {
          specCount *= item.length;
        }
      });
      if (specCount == 0) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].showMsgBox(_this.that, '每种规格至少选中一个选项');
        return;
      }
      var specQtyValues = _CommodityUtil__WEBPACK_IMPORTED_MODULE_11__["default"].getSpecTableValue(priceAndQtyValues, combinedSpecValueNames, specEntities);
      if (specCount != specQtyValues.length) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].showMsgBox(_this.that, '必须填写所有市场价格 ，售价，库存');
        return;
      }
      specCount = 0;
      specQtyValues.forEach(function (item) {
        var marketPrice = parseFloat(item.marketPrice);
        var ourPrice = parseFloat(item.ourPrice);
        var inventories = parseFloat(item.inventories);
        if (isNaN(marketPrice) || marketPrice <= 0 || isNaN(ourPrice) || ourPrice <= 0 || isNaN(inventories) || inventories < 0) {
          specCount++;
        }
      });
      if (specCount > 0) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].showMsgBox(_this.that, '市场价格 ，售价，库存必须填写大于零的数值');
        return;
      }
      var supplierName = tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].getStoreName(_this.operatorId);
      //规格json****************************************
      var selectedSpecValueNames = _this.state.selectedSpecValueNames;
      var params = [];
      for (var i = 0; i < selectedSpecValueNames.length; i++) {
        var param = {};
        var values = [];
        for (var j = 0; j < selectedSpecValueNames[i].length; j++) {
          values.push(selectedSpecValueNames[i][j]);
          param = {
            specEntities: _this.state.specNames[i],
            specValues: JSON.stringify(values)
          };
        }
        params.push(param);
      }

      //this.setState( { tablecolSapn: params.filter( e => !!e.specName ) } );

      //属性json*****************************************
      var attributeParams = _this.state.attributeValues;

      //参数*********************************************

      var commodityName = _this.state.commodityName;
      //const Brand = this.state.BrandOptions[Brand];
      //let BrandId = Brand ? Brand.id : cnst.ID_BRAND_DEFAULT;

      var remark = _this.state.remark;
      var bigImageUri = _this.state.bigImageUri;
      var descriptions = _this.state.descriptions;
      var commodityNo = _this.state.commodityNo;
      var fromAddrIds = _this.fromAddrIds;
      if (!bigImageUri) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].showMsgBox(_this.that, '请选择商品图片');
        return;
      }
      if (!descriptions) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].showMsgBox(_this.that, '请输入商品介绍');
        return;
      }
      var allparams = (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_16__["default"])((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_16__["default"])({
        operatorId: _this.operatorId,
        supplierId: _this.supplierId,
        supplierName: supplierName,
        category1Id: _this.categories.length > 0 ? _this.categories[0] : null,
        category2Id: _this.categories.length > 1 ? _this.categories[1] : null,
        category3Id: _this.categories.length > 2 ? _this.categories[2] : null
      }, _this.state.entity), {}, {
        attributes: JSON.stringify(attributeParams),
        BrandId: BrandId,
        bigImageUri: JSON.stringify(bigImageUri),
        freightTemplateId: freightTemplateId,
        freightTemplate2Id: freightTemplate2Id,
        deliveryTypes: _this.deliveryArr,
        payType: _this.state.payType,
        tradeType: _this.state.tradeType,
        fromAddrIds: fromAddrIds,
        grouponDays: _this.state.grouponDays,
        grouponQty: _this.state.grouponQty,
        weight: _this.state.weight,
        awardRate: _this.state.awardRate,
        presentRate: _this.state.presentRate,
        presentCycleUnit: _this.state.presentCycleUnit,
        presentCycleQty: _this.state.presentCycleQty,
        voucherRate: _this.state.voucherRate,
        settleRate: _this.state.settleRate,
        commodityName: commodityName,
        descriptions: descriptions,
        commodityNo: commodityNo,
        remark: remark,
        commoditySpecs: specQtyValues.map(function (spec) {
          return {
            specName: spec.specNo,
            remark: remark,
            specValues: JSON.stringify(spec.specvalues),
            marketPrice: spec.marketPrice,
            ourPrice: spec.ourPrice,
            inventories: spec.inventories,
            ourPrice2: spec.ourPrice2,
            inventories2: spec.inventories2
          };
        }),
        price: specQtyValues[0].ourPrice
      });
      /**
      		allparams.commoditySpecs = allparams.commoditySpecs.map(e => {
      			const item = this.state.preSpecs.find(
      				pre => pre.specValues == e.specValues
      			);
      			if (item) {
      				return {
      					...item,
      					...e
      				}
      			} else {
      				return e;
      			}
      		})
       */
      var msgs = _this.validateForm((validator__WEBPACK_IMPORTED_MODULE_17___default()), _this.labels0, allparams);
      if (msgs != '') {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].showMsgBox(_this.that, msgs);
        return;
      }
      var succ = function succ(result) {
        if (tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this.that, result, true)) {
          _this.setState({
            mode: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_EDIT,
            selectedSpecValueNames: [],
            combinedSpecValueNames: []
          }, function () {
            return _this.load(result.body, tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_EDIT);
          });
        }
      };
      var err = function err(result) {
        tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].handleMessage(_this.that, result, true);
      };
      var uri = "/cm/pub/b2b/global/commodity/";
      if (_this.params.mallType == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].MALL_TYPE_G_B2C) uri = "/cm/pub/b2c/global/commodity/";
      if (_this.params.mallType == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].MALL_TYPE_R_B2B) uri = "/cm/pub/b2b/region/commodity/";
      if (_this.params.mallType == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].MALL_TYPE_R_B2C) uri = "/cm/pub/b2c/region/commodity/";
      var jsonStr = JSON.stringify(allparams);
      console.log(jsonStr);
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].asyncHttpPost(_this.that, uri + "".concat(_this.state.mode == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_EDIT ? 'update' : 'create'), jsonStr, succ, err);
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "attrValueChanged", function (idx, attributeEntity) {
      return function (selectedItem) {
        var vi = selectedItem.id;
        var attributeValueEntity = attributeEntity.commodityAttributeValues.find(function (e) {
          return e.id == vi;
        });
        if (!attributeValueEntity) {
          return;
        }
        var attributeValue = {
          ni: attributeEntity.id,
          n: attributeEntity.attributeName,
          vi: attributeValueEntity.id,
          v: attributeValueEntity.attributeValue
        };
        var attributeValues = _this.state.attributeValues;
        attributeValues[idx] = attributeValue;
        _this.setState({
          attributeValues: attributeValues
        });
      };
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "getShownSpecs", function (disabled, labelWidth, valueWidth) {
      var specEntities = _this.state.specEntities;
      var selectedSpecValueIds = _this.state.selectedSpecValueIds;
      var specContent = [];
      specContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_TextLabel__WEBPACK_IMPORTED_MODULE_5__["default"], {
        children: "\u5546\u54C1\u89C4\u683C"
      }, 'a12345'));

      // specifications settings begin
      for (var i = 0; i < specEntities.length; i++) {
        var item = specEntities[i];
        specContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_TextLabel__WEBPACK_IMPORTED_MODULE_5__["default"], {
          children: item.specName
        }, '1' + i));
        var speValueOptions = [];
        var item2 = item.specValues;
        if (!item2 || item2.length == 0) continue;
        for (var j = 0; j < item2.length; j++) {
          if (!item2[j]) continue;
          speValueOptions.push({
            value: item2[j].id,
            label: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(tsx_view_TextLabel__WEBPACK_IMPORTED_MODULE_5__["default"], {
              alignItems: "center",
              children: [item2[j].specValue, "\xA0\xA0"]
            }),
            idxp: i,
            disabled: disabled
          });
        }
        specContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_CascadeBox__WEBPACK_IMPORTED_MODULE_10__["default"], {
          idxp: i,
          name: item.specName + '_' + i,
          options: speValueOptions,
          value: selectedSpecValueIds[i],
          onChange: _this.specCheckChanged,
          flexDirection: "row"
        }, 'c2' + i));
      }

      // prices and quantities settings begin
      var showPrices = true;
      for (var _i = 0; _i < selectedSpecValueIds.length; _i++) {
        if (selectedSpecValueIds[_i].length == 0) showPrices = false;
      }
      var combinedSpecValueNames = _this.state.combinedSpecValueNames;
      var priceAndQtyValues = _this.state.priceAndQtyValues;
      specContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
        height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
        backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
      }, 'b12344'));
      specContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_TextLabel__WEBPACK_IMPORTED_MODULE_5__["default"], {
        children: "\u4EF7\u683C\u5E93\u5B58"
      }, 'b12345'));
      if (showPrices) {
        var specNo = '';
        var marketPrice = '';
        var ourPrice = '';
        var inventories = '';
        var ourPrice2 = '';
        var inventories2 = '';
        for (var _i2 = 0; _i2 < combinedSpecValueNames.length; _i2++) {
          var result = '';
          for (var matchesIndex = 0; matchesIndex < combinedSpecValueNames[_i2].length; matchesIndex++) {
            result = "".concat(result).concat(specEntities[matchesIndex].specName, ":").concat(combinedSpecValueNames[_i2][matchesIndex]).concat(matchesIndex == combinedSpecValueNames[_i2].length - 1 ? '' : ',');
          }
          var specArr = priceAndQtyValues[result];
          if (specArr && specArr.specNo == result) {
            specNo = specArr.specNo;
            marketPrice = specArr.marketPrice;
            ourPrice = specArr.ourPrice;
            inventories = specArr.inventories;
            ourPrice2 = specArr.ourPrice2;
            inventories2 = specArr.inventories2;
          } else {
            specNo = '';
            marketPrice = '';
            ourPrice = '';
            inventories = '';
            ourPrice2 = '';
            inventories2 = '';
          }
          specContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_TextLabel__WEBPACK_IMPORTED_MODULE_5__["default"], {
            children: specNo
          }, '5' + _i2));
          specContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
            name: 'marketPrice-' + specNo,
            label: _this.labels.marketPrice,
            type: 'digit',
            value: marketPrice,
            error: _this.state.errors.marketPrice,
            onChange: _this.priceOrQtyValueChanged,
            disabled: disabled,
            labelWidth: labelWidth,
            valueWidth: valueWidth
          }, '6' + _i2));
          specContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
            height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
            backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
          }, '62' + _i2));
          specContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
            name: 'ourPrice-' + specNo,
            label: _this.labels.ourPrice,
            type: 'digit',
            value: ourPrice,
            error: _this.state.errors.ourPrice,
            onChange: _this.priceOrQtyValueChanged,
            disabled: disabled,
            labelWidth: labelWidth,
            valueWidth: valueWidth
          }, '7' + _i2));
          specContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
            height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
            backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
          }, '64' + _i2));
          specContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
            name: 'inventories-' + specNo,
            label: _this.labels.inventories,
            type: 'number',
            value: inventories,
            error: _this.state.errors.inventories,
            onChange: _this.priceOrQtyValueChanged,
            disabled: disabled,
            labelWidth: labelWidth,
            valueWidth: valueWidth
          }, '8' + _i2));
          specContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
            height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
            backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
          }, '66' + _i2));
          //if(this.hasImmediately(this.deliveryArr))
          //  specContent.push(<GeneralInput key={'9' + i} name={'ourPrice2-' + specNo} label={this.labels.ourPrice2} type={'number'} value={ourPrice2} error={this.state.errors.ourPrice} onChange={this.priceOrQtyValueChanged} disabled={disabled} labelWidth={labelWidth} valueWidth={valueWidth} />)
          //if(this.hasImmediately(this.deliveryArr))
          //  specContent.push(<GeneralInput key={'10' + i} name={'inventories2-' + specNo} label={this.labels.inventories2} type={'number'} value={inventories2} error={this.state.errors.inventories} onChange={this.priceOrQtyValueChanged} disabled={disabled} labelWidth={labelWidth} valueWidth={valueWidth} />)       
        }
      }
      return specContent;
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "showAttributes", function (disabled, labelWidth, valueWidth) {
      var attributeEntities = _this.state.attributeEntities;
      var attributeValues = _this.state.attributeValues;
      var attrContent = [];
      attrContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_TextLabel__WEBPACK_IMPORTED_MODULE_5__["default"], {
        children: "\u5546\u54C1\u5C5E\u6027"
      }, 'c12345'));
      var labelKeyAttr = 'attributeValue';
      var valueKeyAttr = 'id';
      for (var i = 0; i < attributeEntities.length; i++) {
        var item = attributeEntities[i];
        var attrValueOptions = item.commodityAttributeValues;
        attrContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_SelectInput__WEBPACK_IMPORTED_MODULE_9__["default"], {
          options: attrValueOptions,
          labelKey: labelKeyAttr,
          valueKey: valueKeyAttr,
          value: attributeValues[i].vi,
          onChange: _this.attrValueChanged(i, item),
          label: attributeEntities[i].attributeName,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }, 'dropbox' + i));
        attrContent.push(/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }));
      }
      return attrContent;
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "specCheckChanged", function (name, selectedValues, changedValue, idx, idxp) {
      console.log('specCheckChanged name: ', name);
      console.log('specCheckChanged selectedValues: ', selectedValues);
      console.log('specCheckChanged changedValue: ', changedValue);
      console.log('specCheckChanged idx: ', idx);
      console.log('specCheckChanged idxp: ', idxp);
      if (selectedValues.length == 0) {
        // this.setState( {selectedSpecValueIds: [], priceAndQtyValues: {} } );
        // return;
      }
      var selectedSpecValueIds = _this.state.selectedSpecValueIds;
      var specEntities = _this.state.specEntities;
      var specEntity = specEntities[idxp];
      var specValueEntities = specEntity.specValues;
      var speValueName = specValueEntities.find(function (e) {
        return e.id == changedValue;
      }).specValue;
      if (selectedSpecValueIds.length == 0 || selectedValues.length >= selectedSpecValueIds[idxp].length) {
        _CommodityUtil__WEBPACK_IMPORTED_MODULE_11__["default"].specCheckChanged(_this, idxp, idx, specEntity.specName, speValueName, true);
      } else {
        _CommodityUtil__WEBPACK_IMPORTED_MODULE_11__["default"].specCheckChanged(_this, idxp, idx, specEntity.specName, speValueName, false);
      }
      selectedSpecValueIds[idxp] = selectedValues;
      _this.setState({
        selectedSpecValueIds: selectedSpecValueIds
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "onChange", function (name) {
      return function (item) {
        var id = item.id;
        _this.setState((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])({}, name, id));
      };
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "onInputChanged", function (name, value) {
      if (_this.state.mode != tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_LIST) _this.validateFields(_this, (validator__WEBPACK_IMPORTED_MODULE_17___default()), name, value);
      _this.setState((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])({}, name, value));
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "priceOrQtyValueChanged", function (name, value) {
      var combinedSpecValueNames = _this.state.combinedSpecValueNames;
      var priceAndQtyValues = _this.state.priceAndQtyValues;
      var specEntities = _this.state.specEntities;
      priceAndQtyValues = _CommodityUtil__WEBPACK_IMPORTED_MODULE_11__["default"].getPriceNQtyValues(priceAndQtyValues, combinedSpecValueNames, specEntities);
      var ids = name.split('-');
      var fieldName = ids[0];
      var idSpecNo = ids[1];
      if (typeof value == 'string' && (value.endsWith('.') || value.endsWith('.0'))) return;
      if (fieldName == 'inventories' || fieldName == 'inventories2') {
        value = parseInt(value);
        if (isNaN(value)) value = '';
      } else if (fieldName == 'marketPrice' || fieldName == 'ourPrice' || fieldName == 'ourPrice2') {
        value = parseFloat(value);
        if (isNaN(value)) value = '';
      }
      priceAndQtyValues[idSpecNo] = (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_16__["default"])((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_16__["default"])({}, priceAndQtyValues[idSpecNo]), {}, (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])({}, fieldName, value));
      _this.setState({
        priceAndQtyValues: priceAndQtyValues
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "bigImageFilesChanged", function (newValue, opType, uriOrIdx) {
      var preValue = _this.state.bigImageFiles;
      var bigImageUri = _this.state.bigImageUri;
      if ('add' == opType) {
        bigImageUri.push(uriOrIdx);
        _this.setState({
          bigImageUri: bigImageUri
        });
      } else if ('rm' == opType) {
        var _bigImageUri = _this.state.bigImageUri;
        _bigImageUri = _bigImageUri.slice(uriOrIdx, 1);
        _this.setState({
          bigImageUri: _bigImageUri
        });
      }
      _this.setState({
        bigImageFiles: newValue
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "setDescriptions", function (value) {
      _this.setState({
        descriptions: value
      });
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "hasImmediately", function (deliveryArr) {
      if (deliveryArr && deliveryArr.indexOf(tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].DELIVERY_TYPE_IMMEDIATELY) != -1) return true;
      return false;
    });
    (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_15__["default"])(_this, "onConfirm", function () {
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].closeMsgBox(_this);
    });
    console.log('commodity third lifecycle method constructor');
    _this.that = _this.props.that;
    _this.params = tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].getUrlParams(_this);
    _this.categories = _this.props.categories;
    _this.operatorId = _this.props.operatorId;
    _this.deliveryArr = _this.props.deliveryArr;
    _this.fromAddrIds = _this.props.fromAddrIds;
    _this.state = {
      mode: _this.params.mode || tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_NEW,
      entity: {},
      freightTemplateId: '',
      freightTemplate2Id: '',
      freightTmpOptions: [],
      awardRate: 0.0,
      presentRate: 0.5,
      presentCycleUnit: 1,
      presentCycleUnitOptions: [{
        value: 1,
        label: '月'
      }, {
        value: 12,
        label: '年'
      }, {
        value: 120,
        label: '十年'
      }],
      presentCycleQty: 10,
      voucherRate: 0.2,
      settleRate: 0.965,
      payType: 1,
      payTypeOptions: [{
        value: 1,
        label: '在线支付'
      }, {
        value: 3,
        label: '货到付款'
      }],
      tradeType: 1,
      tradeTypeOptions: [{
        value: 1,
        label: '普通'
      }, {
        value: 3,
        label: '推荐'
      }, {
        value: 5,
        label: '团购'
      }],
      grouponDays: 1,
      grouponDaysOptions: [{
        value: 1,
        label: '1'
      }, {
        value: 2,
        label: '2'
      }, {
        value: 3,
        label: '3'
      }],
      grouponQty: 3,
      weight: 1,
      specEntities: [],
      specNames: [],
      combinedSpecValueNames: [],
      selectedSpecValueNames: [],
      specCheckedArr: [],
      selectedSpecValueIds: [],
      attributeEntities: [],
      attributeValues: [],
      priceAndQtyValues: {},
      errors: tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].setProperties(_this.labels, false),
      disabled: _this.params.mode == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_VIEW,
      commodityNo: '',
      bigImageUri: [],
      bigImageFiles: [],
      descriptions: '',
      BrandId: '',
      BrandOptions: [],
      updateTime: ''
    };
    _this.init();
    return _this;
  }
  (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_18__["default"])(CommodityThird, _React$Component);
  return (0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_19__["default"])(CommodityThird, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      console.log('commodity third lifecycle method componentDidMount');
      var id = this.params.id;
      var mode = this.state.mode;
      if (mode == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_NEW) {
        var categoryId = this.categories[2];
        this.fetchCommoditySpecCategory(categoryId, []);
        this.fetchCommodityAttribute(categoryId, []);
        this.fetchBrandAndFreightTemplate();
        return;
      }
      if (this.that.state.commodityThird) this.setState((0,c_taro_i_bizz_client_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_16__["default"])({}, this.that.state.commodityThird));else this.load(id, mode);
    }
  }, {
    key: "shouldComponentUpdate",
    value: function shouldComponentUpdate() {
      console.log('commodity third lifecycle method shouldComponentUpdate');
      if (this.state.mode == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_EDIT) return true;
      return true;
    }
  }, {
    key: "getSnapshotBeforeUpdate",
    value: function getSnapshotBeforeUpdate() {
      console.log('commodity third lifecycle method getSnapshotBeforeUpdate');
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate(prevProps, prevState) {
      console.log('commodity third lifecycle method componentDidUpdate');
    }
  }, {
    key: "componentDidCatch",
    value: function componentDidCatch() {
      console.log('commodity third lifecycle method componentDidCatch');
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      console.log('commodity third lifecycle method componentWillUnmount');
      this.that.setCommodityThird(this.state);
    }
  }, {
    key: "init",
    value: function init() {
      var _this2 = this;
      tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].init(this, '/cm/pub/b2b/global/commodity/init/search', 'commodity').then(function (_ref) {
        var validateFields = _ref.validateFields,
          validateForm = _ref.validateForm;
        _this2.validateFields = validateFields;
        _this2.validateForm = validateForm;
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this3 = this;
      var _this$state2 = this.state,
        mode = _this$state2.mode,
        disabled = _this$state2.disabled,
        BrandId = _this$state2.BrandId,
        BrandOptions = _this$state2.BrandOptions,
        presentCycleUnit = _this$state2.presentCycleUnit,
        presentCycleUnitOptions = _this$state2.presentCycleUnitOptions,
        presentCycleQty = _this$state2.presentCycleQty,
        freightTmpOptions = _this$state2.freightTmpOptions,
        freightTemplateId = _this$state2.freightTemplateId,
        freightTemplate2Id = _this$state2.freightTemplate2Id,
        payTypeOptions = _this$state2.payTypeOptions,
        payType = _this$state2.payType,
        tradeTypeOptions = _this$state2.tradeTypeOptions,
        tradeType = _this$state2.tradeType,
        grouponDaysOptions = _this$state2.grouponDaysOptions,
        grouponDays = _this$state2.grouponDays,
        descriptions = _this$state2.descriptions;
      var labelKeyBrand = 'BrandName';
      var labelKeyFreight = 'templateName';
      var valueKeyId = 'id';
      var labelKey = 'label';
      var valueKey = 'value';
      var labelWidth = tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_WIDTH_LABEL;
      var valueWidth = tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_WIDTH_VALUE;
      var immediately = this.hasImmediately(this.deliveryArr);
      var shownSpecs = this.getShownSpecs(disabled, labelWidth, valueWidth);
      var showAttributes = this.showAttributes(disabled, labelWidth, valueWidth);
      return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsxs)(tsx_layout_ColumnLayout__WEBPACK_IMPORTED_MODULE_3__["default"], {
        children: [/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_NEAR_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
          name: 'commodityName',
          label: '*' + this.labels.commodityName,
          type: 'text',
          value: this.state.commodityName,
          error: this.state.errors.commodityName,
          onChange: this.onInputChanged,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_SelectInput__WEBPACK_IMPORTED_MODULE_9__["default"], {
          options: freightTmpOptions,
          labelKey: labelKeyFreight,
          valueKey: valueKeyId,
          value: freightTemplateId,
          onChange: this.onChange('freightTemplateId'),
          label: '*' + this.labels.freightTemplateId,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), immediately && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), immediately && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_SelectInput__WEBPACK_IMPORTED_MODULE_9__["default"], {
          options: freightTmpOptions,
          labelKey: labelKeyFreight,
          valueKey: valueKeyId,
          value: freightTemplate2Id,
          onChange: this.onChange('freightTemplate2Id'),
          label: '*' + this.labels.freightTemplateId + '(即时)',
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_SelectInput__WEBPACK_IMPORTED_MODULE_9__["default"], {
          options: payTypeOptions,
          labelKey: labelKey,
          valueKey: valueKey,
          value: payType,
          onChange: tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].onValueChange(this, 'payType'),
          label: '*' + this.labels.payType,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_SelectInput__WEBPACK_IMPORTED_MODULE_9__["default"], {
          options: tradeTypeOptions,
          labelKey: labelKey,
          valueKey: valueKey,
          value: tradeType,
          onChange: tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].onValueChange(this, 'tradeType'),
          label: '*' + this.labels.tradeType,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), this.deliveryArr.indexOf(tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].DELIVERY_TYPE_ONLINE) == -1 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), this.deliveryArr.indexOf(tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].DELIVERY_TYPE_ONLINE) == -1 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
          name: 'weight',
          label: '*' + this.labels.weight,
          type: 'digit',
          value: this.state.weight,
          error: this.state.errors.weight,
          onChange: this.onInputChanged,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
          name: 'awardRate',
          label: this.labels.awardRate,
          type: 'digit',
          value: this.state.awardRate,
          error: this.state.errors.awardRate,
          onChange: this.onInputChanged,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
          name: 'presentRate',
          label: this.labels.presentRate,
          type: 'digit',
          value: this.state.presentRate,
          error: this.state.errors.presentRate,
          onChange: this.onInputChanged,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_SelectInput__WEBPACK_IMPORTED_MODULE_9__["default"], {
          options: presentCycleUnitOptions,
          labelKey: labelKey,
          valueKey: valueKey,
          value: presentCycleUnit,
          onChange: tsx_common_JsUtil__WEBPACK_IMPORTED_MODULE_1__["default"].onValueChange(this, 'presentCycleUnit'),
          label: this.labels.presentCycleUnit,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
          name: 'presentCycleQty',
          label: this.labels.presentCycleQty,
          type: 'number',
          value: presentCycleQty,
          error: this.state.errors.presentCycleQty,
          onChange: this.onInputChanged,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
          name: 'voucherRate',
          label: this.labels.voucherRate,
          type: 'digit',
          value: this.state.voucherRate,
          error: this.state.errors.voucherRate,
          onChange: this.onInputChanged,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_SelectInput__WEBPACK_IMPORTED_MODULE_9__["default"], {
          options: BrandOptions,
          labelKey: labelKeyBrand,
          valueKey: valueKeyId,
          value: BrandId,
          onChange: this.onChange('BrandId'),
          label: this.labels.BrandId,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
          name: 'commodityNo',
          label: this.labels.commodityNo,
          type: 'text',
          value: this.state.commodityNo,
          error: this.state.errors.commodityNo,
          onChange: this.onInputChanged,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
          name: 'remark',
          label: this.labels.remark,
          type: 'text',
          value: this.state.remark,
          error: this.state.errors.remark,
          onChange: this.onInputChanged,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), mode == tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].SHOW_MODE_VIEW && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
          name: 'updateTime',
          label: this.labels.updateTime,
          type: 'text',
          value: this.state.updateTime,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), this.state.tradeType == 5 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), this.state.tradeType == 5 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_SelectInput__WEBPACK_IMPORTED_MODULE_9__["default"], {
          options: grouponDaysOptions,
          labelKey: labelKey,
          valueKey: valueKey,
          value: grouponDays,
          onChange: this.onChange('grouponDays'),
          label: this.labels.grouponDays,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), this.state.tradeType == 5 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].NUM_HEIGHT_LINE,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_WHITE
        }), this.state.tradeType == 5 && /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_GeneralInput__WEBPACK_IMPORTED_MODULE_6__["default"], {
          name: 'grouponQty',
          label: this.labels.grouponQty,
          type: 'number',
          value: this.state.grouponQty,
          error: this.state.errors.grouponQty,
          onChange: this.onInputChanged,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: 16,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_NEAR_WHITE
        }), shownSpecs, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: 16,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_NEAR_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_TextLabel__WEBPACK_IMPORTED_MODULE_5__["default"], {
          children: "\u5546\u54C1\u56FE\u7247"
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_ImagePicker__WEBPACK_IMPORTED_MODULE_7__["default"], {
          that: this,
          files: this.state.bigImageFiles,
          onChange: this.bigImageFilesChanged,
          count: 10,
          category: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].BIZZ_CAT_COMMODITY,
          disabled: disabled,
          labelWidth: labelWidth,
          valueWidth: valueWidth
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: 16,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_NEAR_WHITE
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_TextLabel__WEBPACK_IMPORTED_MODULE_5__["default"], {
          children: "\u5546\u54C1\u4ECB\u7ECD"
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_form_RichTextInput__WEBPACK_IMPORTED_MODULE_8__["default"], {
          value: descriptions,
          onChange: function onChange(descriptions) {
            return _this3.setDescriptions(descriptions);
          }
        }), /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: 16,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_NEAR_WHITE
        }), showAttributes, /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_12__.jsx)(tsx_view_BrView__WEBPACK_IMPORTED_MODULE_4__["default"], {
          height: 36,
          backgroundColor: tsx_common_Constant__WEBPACK_IMPORTED_MODULE_2__["default"].COLOR_BACKGROUND_NEAR_WHITE
        })]
      });
    }
  }], [{
    key: "getDerivedStateFromError",
    value: function getDerivedStateFromError(error) {
      console.log('commodity third lifecycle method getDerivedStateFromError');
    }
  }, {
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, state) {
      console.log('commodity third lifecycle method getDerivedStateFromProps');
    }
  }]);
}((react__WEBPACK_IMPORTED_MODULE_0___default().Component));
/* harmony default export */ __webpack_exports__["default"] = (CommodityThird);

/***/ }),

/***/ "./src/pkgcommodity/page/commodity/CommodityUtil.ts":
/*!**********************************************************!*\
  !*** ./src/pkgcommodity/page/commodity/CommodityUtil.ts ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__) {

var cmmd = {};
var _permuteAndCombine = function permuteAndCombine(selectedSpecValueNames) {
  var len = selectedSpecValueNames.length;
  if (len > 1) {
    // 第一个数组的长度
    var len1 = selectedSpecValueNames[0].length;
    // 第二个数组的长度
    var len2 = selectedSpecValueNames[1].length;
    // 2个数组产生的组合数

    //  申明一个新数组
    var items = new Array();
    // 申明新数组的索引
    var index = 0;
    if (len1 == 0) {
      items = selectedSpecValueNames[1];
    } else if (len2 == 0) {
      items = selectedSpecValueNames[0];
    } else {
      for (var i = 0; i < len1; i++) {
        for (var j = 0; j < len2; j++) {
          if (selectedSpecValueNames[0][i] instanceof Array) {
            items[index] = selectedSpecValueNames[0][i].concat(selectedSpecValueNames[1][j]);
          } else {
            items[index] = [selectedSpecValueNames[0][i]].concat(selectedSpecValueNames[1][j]);
          }
          index++;
        }
      }
    }
    var newArr = new Array(len - 1);
    for (var i = 2; i < selectedSpecValueNames.length; i++) {
      newArr[i - 1] = selectedSpecValueNames[i];
    }
    newArr[0] = items;
    return _permuteAndCombine(newArr);
  } else {
    return selectedSpecValueNames[0];
  }
};
cmmd.permuteAndCombine = _permuteAndCombine;
var specCheckChanged = function specCheckChanged(that, index1, index2, specName, speValueName, checked) {
  var checkArr = that.state.specCheckedArr;
  if (!checked && checkArr[index1].filter(function (checkedSpec) {
    return checkedSpec == true;
  }).length == 0) {
    return;
  }
  if (checkArr[index1][index2] == checked) {
    return;
  }
  checkArr[index1][index2] = checked;
  that.setState({
    specCheckedArr: checkArr
  });
  var selectedSpecValueNames = that.state.selectedSpecValueNames;
  var specNames = that.state.specNames;
  if (selectedSpecValueNames.length < that.state.specEntities.length) {
    for (var i = 0; i < that.state.specEntities.length; i++) {
      selectedSpecValueNames[i] = new Array();
    }
  }
  if (checked == true) {
    specNames[index1] = specName;
    selectedSpecValueNames[index1].push(speValueName);
  } else if (checked == false) {
    var arr = selectedSpecValueNames[index1];
    for (var _i = 0; _i < arr.length; _i++) {
      if (arr[_i] == speValueName) {
        arr.splice(_i, 1);
        break;
      }
    }
  }
  that.setState({
    selectedSpecValueNames: selectedSpecValueNames,
    specNames: specNames
  });
  var params = [];
  for (var _i2 = 0; _i2 < selectedSpecValueNames.length; _i2++) {
    var param = {};
    var values = [];
    for (var j = 0; j < selectedSpecValueNames[_i2].length; j++) {
      values.push(selectedSpecValueNames[_i2][j]);
      param = {
        specName: that.state.specNames[_i2],
        specValues: JSON.stringify(values)
      };
    }
    params.push(param);
  }
  //that.setState({ tablecolSapn: params.filter(e => !!e.specName) });

  var combinedSpecValueNames = _permuteAndCombine(selectedSpecValueNames);
  console.log('combinedSpecValueNames : ', combinedSpecValueNames);
  var priceAndQtyValues = that.state.priceAndQtyValues;
  console.log('priceAndQtyValues: ', priceAndQtyValues);
  var specEntities = that.state.specEntities;
  priceAndQtyValues = cmmd.getPriceNQtyValues(priceAndQtyValues, combinedSpecValueNames, specEntities);
  console.log('priceAndQtyValues2: ', priceAndQtyValues);
  that.setState({
    combinedSpecValueNames: combinedSpecValueNames.map(function (e) {
      if (Array.isArray(e)) {
        return e;
      } else {
        return [e];
      }
    }),
    priceAndQtyValues: priceAndQtyValues
  });
};
cmmd.specCheckChanged = specCheckChanged;
var getSpecTableValue = function getSpecTableValue(priceAndQtyValues, combinedSpecValueNames, specEntities) {
  var inputvalue = [];
  var _loop = function _loop(i) {
    var result = '';
    for (var matchesIndex = 0; matchesIndex < combinedSpecValueNames[i].length; matchesIndex++) {
      result = "".concat(result).concat(specEntities[matchesIndex].specName, ":").concat(combinedSpecValueNames[i][matchesIndex]).concat(matchesIndex == combinedSpecValueNames[i].length - 1 ? '' : ',');
    }
    var priceNQtyValue = priceAndQtyValues[result];
    inputvalue[i] = priceNQtyValue;
    if (Array.isArray(combinedSpecValueNames[i])) {
      inputvalue[i].specvalues = combinedSpecValueNames[i].map(function (e, index) {
        var vItem = specEntities[index].specValues.find(function (specItem) {
          return specItem.specValue == e;
        });
        if (!vItem) return {};
        return {
          n: specEntities[index].specName,
          ni: specEntities[index].id,
          v: vItem.specValue,
          vi: vItem.id
        };
      });
    } else {
      var vItem = specEntities[0].specValues.find(function (specItem) {
        return specItem.specValue == combinedSpecValueNames[i];
      });
      if (vItem) {
        inputvalue[i].specvalues = [{
          n: specEntities[0].specName,
          ni: specEntities[0].id,
          v: vItem.specValue,
          vi: vItem.id
        }];
      }
    }
  };
  for (var i = 0; i < combinedSpecValueNames.length; i++) {
    _loop(i);
  }
  return inputvalue;
};
cmmd.getSpecTableValue = getSpecTableValue;
var getPriceNQtyValues = function getPriceNQtyValues(priceAndQtyValues, combinedSpecValueNames, specEntities) {
  for (var i = 0; i < combinedSpecValueNames.length; i++) {
    var specValueName = '';
    if (specEntities.length == 1) {
      specValueName = "".concat(specEntities[0].specName, ":").concat(combinedSpecValueNames[i]);
    } else {
      for (var matchesIndex = 0; matchesIndex < specEntities.length; matchesIndex++) {
        specValueName = "".concat(specValueName).concat(specEntities[matchesIndex].specName, ":").concat(combinedSpecValueNames[i][matchesIndex]).concat(matchesIndex == combinedSpecValueNames[i].length - 1 ? '' : ',');
      }
    }
    if (!priceAndQtyValues[specValueName]) priceAndQtyValues[specValueName] = {
      specNo: specValueName
    };
  }
  return priceAndQtyValues;
};
cmmd.getPriceNQtyValues = getPriceNQtyValues;
/* harmony default export */ __webpack_exports__["default"] = (cmmd);

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["sub-common/33a0dcff8dd1ce1d5a5cd746a363af7f","sub-common/9cb1b1bc01ac3b5aab137f4f42f34427","sub-common/743fd6c75eedb38fcbef2bb890f87e25","sub-common/68b2b3b3087f8230c81d9b685e704845","sub-common/c5518bbc966d887860b3d84dfaee055a","sub-common/2472e184a544bf8e8aa64525d8571c65","sub-common/95b631906e44ffb10af039c4295c2fa8","sub-common/8f3ebcfba9fc864812b060ad2cccba99","sub-common/969054ffa53468a068984b2a1ad5d573","sub-common/5f8bb8bf58fbf6a5a12c8d5a470bef7c","sub-common/206fedb70c07c719425288e88c90dd73","sub-common/b63d2cd1cf867ef4fff9dbeed2f6d471","sub-common/b97bc6c3d869fb24e41b1c61d68595ad","sub-common/2c5e91361c20cae1f596707fb621223d","sub-common/6a11ab16f3b00fa2d6d38bdcb3ba642a","sub-common/de2a2e0fe79c997b35540efdcc82703f","sub-common/3e89c767aec3f22e91c210b8234acc1b","sub-common/9c46117cf72345ea03c7fca86e302967","sub-common/191b63ae127a6cfc61dffb8d81a9fa0c","sub-common/a61bc57088e25d67bd3b38abfb84924b","sub-common/d9b36c2dc66bca428f554f33654506d9","sub-common/a8971e4c301542acc7de3a84a13651ea","sub-common/2c14e52c6a694603318b9ca55a43ba2e","sub-common/6fd910a44fac85ffd3c8d31dff324405","sub-common/c6b174c6e9dd3c8f980ea79571394691","sub-common/59388f77a9aac89380f77d0c2b2c80c2","sub-common/fe7ebf0e142f0461d37e954994130f65","sub-common/e918c934616a42df2a7e2bf785318813","sub-common/4122b6e99c0f8b5f46334c5648771267","sub-common/a912f4d6ad7e130973655ae1ad673138","sub-common/dff787cead3dd9f079e279cc08cd25d1","sub-common/24d2e3aba54fd1db350c52268449b1e0","sub-common/a9a235f584fcc3cc5faf7c33a4465e1d","sub-common/3e4f33945b09ba74f16d0c8d34bb4ea3","sub-common/beeb4a865901ee81b4bbf80168e28233","sub-common/cdd57726fc1572531ede15fa9fa4ada8","sub-common/81842870d08bed35415fb5b888d85e69","sub-common/0788c6d4698a4e76629b9807760bdbf8","sub-common/e6278e73cc0922445354ce442ea9d6d2","sub-common/37b4243eb00980a55a667e25433b8f58","sub-common/27d75ae0d56ebbd34aee38a112a6adaa","sub-common/875dc5652e620421d389e50408eddb22","sub-common/f072224e35b296237619e74823e200da","sub-common/19dc772cc205b4d9fdeb4b71f20bb31e","sub-common/ccf2e5e3b803f7f2e15a81c2c42f18cc","sub-common/e3d7e3001f74cd79ebb8152395241a01","sub-common/b6d19a0d4cf7e95442727dd5225a5954","sub-common/08c501b67b491804ac6c2a3a517d04e2","sub-common/4f21e1a8a25c0dec0c462f95935b4a74","sub-common/9eb67347791c9a14cb71efe7df2ce0ec","sub-common/5e91735a3db20ae9ef3104f704c15c14","sub-common/971302a66ab09fba70edf836b7e073cf","sub-common/d36c6665fc2b7369ba0510d11c6110e4","sub-common/5e2d597681b28330d06adc8b7fabd0c7","sub-common/7c744d5c70dd6fc42b867c55302e3ae0","sub-common/858a57d0f8354b2c99cbb8a35a896895","sub-common/5b7fcb207250c7ec2e845bf998a9698d","sub-common/4f3d5ede90167244c576135c2de94c90","sub-common/39c39957f752351aa112f351f436cbe6","sub-common/03589f7f858b844541eb6f34e507810f","sub-common/f1997d4453a529809a3f750e2e00cf03","sub-common/f1abf2097761c1ddee3ea2a35782d46d","sub-common/3ef7e1f693ff45b6f449935f3962f608","sub-common/793716078355b1ed5f730f6337272838","sub-common/3e02d28114ad95ec6c4ebea697695e01","sub-common/8ea1a1287bb0a3e8047591021d0da81e","sub-common/1adad43154f80f367c099ae0c2786faf","sub-common/df4baec3d76eb7b41d6c9ebe45043714","sub-common/81a3eeca74630f2a71c90b1a79792bd5","sub-common/b5531c74993b0e6c875ccbf24733d252","sub-common/a823d71cd753c447063a7cc1057320c6","sub-common/ecb6d18ecfc31802909501fdb632f817","sub-common/091ca92f4fa48083dc2da1ad4a302541","sub-common/ce98869fa3f3ac1ba55389ccd5fa36bd","sub-common/edfb176eda72ce4e439d5eda8bdb3d32","sub-common/a14eecf3e6a9ec67a36770da59e92b4e","sub-common/249e8f5d6fa274c5e917e420311d1dbe","sub-common/dd6730ebd3c61564e3986159dc59da4a","sub-common/b395fac474bdca58218b3bb726549e6c","sub-common/a0b1fc0c38b1cc756112f08489e20a1a","sub-common/9c20ab6f00c34d8d3daca184c7e10a31","sub-common/b975a4f7532ef37378e4e062efe6b94a","sub-common/ad5400de231f67d9d7571569ca99024d","sub-common/8ce61c5087b10d3752487da3efc3c80b","sub-common/4a441ce8ea6633e46fa876b89c5989c4","sub-common/a9a16586908eae908ad2d57704d394f2","sub-common/ff16a1120696face4aa4bdccb78faf14","sub-common/b260aea00547319049e50a5658a8e471","sub-common/0b0cfb5710cb4f1c6b6dd6c4e8adfbf0","sub-common/2f22a4b57b97e7ebf0c26fc78f85e3d7","sub-common/4ab1ac880daabb2373963b485334b3cb","sub-common/12702cfb32531b5ebdc3365f120aca73","sub-common/48fa954e4a9e4a29ca4c8756090f4552","sub-common/080b9943c602c8a7acb6ecf5318e5565","sub-common/2a6d820bb777c209c4b037de6a3a9c5e","sub-common/6cdc360ccc7aa6d273ad94b6e530db1d","sub-common/6eab6f4e5446b739ccb8fd89a1b76d74","sub-common/c40945b6796542db388af13d22912baf","sub-common/07c02481c5e6502a5df936dc75ca8fcc","sub-common/eb13c4f39844145413e2ee34b2449225","sub-common/315c14bf030faea4e99ebfc9791ff88b","sub-common/a3205809b5df973211533287e8fbd928","sub-common/9a3af5c9dd88254531521a8b6dad1bfb","sub-common/18e39e13c341e59374c6d27e062ed664","sub-common/3f6add7a297c1c12bd497aaae2385281","sub-common/b196ef8ceeeeff042ca8e736da18ea83","sub-common/f6715aedae2393165b5d0697d6166643","sub-common/1665be7a5dd00aba9b37d8c00327d0bb","sub-common/5ef06e55aec97a834e922531eb96b33c","taro","vendors","common"], function() { return __webpack_exec__("./src/pkgcommodity/page/commodity/CommodityPublish.tsx"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);
//# sourceMappingURL=CommodityPublish.js.map