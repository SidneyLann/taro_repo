{"version":3,"file":"pkgmall/page/mall/CommoditySearchBox.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://i_bizz_client/./src/pkgmall/page/mall/CommoditySearchBox.tsx?ee35","webpack://i_bizz_client/._src_pkgmall_page_mall_CommoditySearchBox.tsx"],"sourcesContent":["import _classCallCheck from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _defineProperty from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport React from 'react';\nimport JsUtil from 'tsx/common/JsUtil';\nimport cnst from 'tsx/common/Constant';\nimport URI from 'tsx/common/URI';\nimport BrView from 'tsx/view/BrView';\nimport HeadLayout from 'tsx/layout/HeadLayout';\nimport SelectInput from 'tsx/form/SelectInput';\nimport GeneralInput from 'tsx/form/GeneralInput';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar CommoditySearchBox = /*#__PURE__*/function (_React$Component) {\n  function CommoditySearchBox(props) {\n    var _this;\n    _classCallCheck(this, CommoditySearchBox);\n    _this = _callSuper(this, CommoditySearchBox, [props]);\n    _defineProperty(_this, \"labels\", {\n      commodityName: '商品名称',\n      deliveryType: '配送类型',\n      receiptAddrId: '收货地址'\n    });\n    _defineProperty(_this, \"params\", void 0);\n    _defineProperty(_this, \"currUserId\", void 0);\n    _defineProperty(_this, \"prepareToAddresses\", function () {\n      var subjectId = _this.currUserId;\n      var uri = '/lg/pub/receipt/address/memb/search';\n      var param = {\n        subjectId: subjectId\n      };\n      var succ = function succ(result) {\n        if (JsUtil.handleMessage(_this, result)) {\n          var receiptAddrIdOptions = result.body;\n          var receiptAddrId = JsUtil.getAppItem('latestMemAddrId');\n          _this.setState({\n            receiptAddrIdOptions: receiptAddrIdOptions,\n            receiptAddrId: receiptAddrId\n          });\n        }\n      };\n      var err = function err(result) {\n        JsUtil.handleMessage(_this, result);\n      };\n      JsUtil.asyncHttpPost(_this, uri, JSON.stringify(param), succ, err);\n    });\n    _defineProperty(_this, \"onInputChanged\", function (name, value) {\n      _this.setState(_defineProperty({}, name, value));\n    });\n    _defineProperty(_this, \"search\", function () {\n      var commodityName = _this.state.commodityName;\n      var deliveryType = _this.state.deliveryType;\n      var receiptAddrId = _this.state.receiptAddrId;\n      JsUtil.setAppItem('latestMemAddrId', receiptAddrId);\n      JsUtil.go2Page(URI.MALL_COMMODITY_LIST_KEYWORD + '?commodityName=' + _this.state.commodityName + '&deliveryType=' + deliveryType + '&receiptAddrId=' + _this.state.receiptAddrId + '&supplierId=' + _this.params.supplierId);\n    });\n    _this.params = JsUtil.getUrlParams(_this);\n    _this.currUserId = JsUtil.getAppItem('currUserId');\n    _this.state = {\n      commodityName: '',\n      deliveryTypeOptions: [{\n        value: cnst.DELIVERY_TYPE_EXPRESS,\n        label: '快递'\n      }, {\n        value: cnst.DELIVERY_TYPE_EXPRESS_CHANGE,\n        label: '转运'\n      }, {\n        value: cnst.DELIVERY_TYPE_IMMEDIATELY,\n        label: '即时送'\n      }, {\n        value: cnst.DELIVERY_TYPE_SELF_PICKUP,\n        label: '自提'\n      }, {\n        value: cnst.DELIVERY_TYPE_ONLINE,\n        label: '在线运输'\n      }],\n      deliveryType: '',\n      receiptAddrIdOptions: [],\n      receiptAddrId: ''\n    };\n    return _this;\n  }\n  _inherits(CommoditySearchBox, _React$Component);\n  return _createClass(CommoditySearchBox, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.prepareToAddresses();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n        deliveryTypeOptions = _this$state.deliveryTypeOptions,\n        deliveryType = _this$state.deliveryType,\n        receiptAddrIdOptions = _this$state.receiptAddrIdOptions,\n        receiptAddrId = _this$state.receiptAddrId;\n      var labelKey = 'label';\n      var valueKey = 'value';\n      return /*#__PURE__*/_jsxs(HeadLayout, {\n        topNavBarTitle: '搜索商品',\n        bottomLabel4: '搜索',\n        bottomFunc4: this.search,\n        children: [/*#__PURE__*/_jsx(GeneralInput, {\n          name: 'commodityName',\n          label: this.labels.commodityName,\n          type: 'text',\n          value: this.state.commodityName,\n          onChange: this.onInputChanged\n        }), /*#__PURE__*/_jsx(BrView, {\n          height: cnst.NUM_HEIGHT_LINE,\n          backgroundColor: cnst.COLOR_BACKGROUND_WHITE\n        }), /*#__PURE__*/_jsx(SelectInput, {\n          options: deliveryTypeOptions,\n          labelKey: labelKey,\n          valueKey: valueKey,\n          value: deliveryType,\n          onChange: JsUtil.onValueChange(this, 'deliveryType'),\n          label: this.labels.deliveryType\n        }), /*#__PURE__*/_jsx(BrView, {\n          height: cnst.NUM_HEIGHT_LINE,\n          backgroundColor: cnst.COLOR_BACKGROUND_WHITE\n        }), /*#__PURE__*/_jsx(SelectInput, {\n          options: receiptAddrIdOptions,\n          labelKey: 'detailAddress',\n          valueKey: 'id',\n          value: receiptAddrId,\n          onChange: JsUtil.onValueChange(this, 'receiptAddrId'),\n          label: this.labels.receiptAddrId\n        }), /*#__PURE__*/_jsx(BrView, {\n          height: cnst.NUM_HEIGHT_LINE,\n          backgroundColor: cnst.COLOR_BACKGROUND_WHITE\n        })]\n      });\n    }\n  }]);\n}(React.Component);\nexport default CommoditySearchBox;","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pkgmall/page/mall/CommoditySearchBox!./CommoditySearchBox.tsx\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'pkgmall/page/mall/CommoditySearchBox', {root:{cn:[]}}, config || {}))\n\n\nexport default component\n"],"names":[],"sourceRoot":""}