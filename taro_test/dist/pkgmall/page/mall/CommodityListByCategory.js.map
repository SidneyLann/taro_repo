{"version":3,"file":"pkgmall/page/mall/CommodityListByCategory.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://i_bizz_client/./src/pkgmall/page/mall/CommodityListByCategory.tsx?aded","webpack://i_bizz_client/._src_pkgmall_page_mall_CommodityListByCategory.tsx"],"sourcesContent":["import _classCallCheck from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _callSuper from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/callSuper.js\";\nimport _inherits from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _defineProperty from \"c:/taro/i_bizz_client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport React from 'react';\nimport JsUtil from 'tsx/common/JsUtil';\nimport cnst from 'tsx/common/Constant';\nimport HeadLayout from 'tsx/layout/HeadLayout';\nimport CmmdListTemplate from './CmmdListTemplate';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar CommodityListByCategory = /*#__PURE__*/function (_React$Component) {\n  function CommodityListByCategory(props) {\n    var _this;\n    _classCallCheck(this, CommodityListByCategory);\n    _this = _callSuper(this, CommodityListByCategory, [props]);\n    _defineProperty(_this, \"tradeType\", JsUtil.getAppItem('currMallType'));\n    _defineProperty(_this, \"operatorId\", JsUtil.getAppItem('currOperatorId'));\n    _defineProperty(_this, \"params\", void 0);\n    _defineProperty(_this, \"sendRequest\", function () {\n      var uri = '';\n      if (cnst.MALL_TYPE_G_B2B == _this.tradeType) {\n        uri = '/cm/pub/b2b/global/commodity/search';\n      } else if (cnst.MALL_TYPE_G_B2C == _this.tradeType) {\n        uri = '/cm/pub/b2c/global/commodity/search';\n      } else if (cnst.MALL_TYPE_R_B2B == _this.tradeType) {\n        uri = '/cm/pub/b2b/region/commodity/search';\n      } else if (cnst.MALL_TYPE_R_B2C == _this.tradeType) {\n        uri = '/cm/pub/b2c/region/commodity/search';\n      }\n      var succ = function succ(result) {\n        var commodities = result.body;\n        var gridArr = [];\n        var picUri = '';\n        commodities.map(function (commodity) {\n          picUri = commodity.id ? JSON.parse(commodity.bigImageUri)[0] : commodity.commodityPicUri;\n          gridArr.push({\n            commodityId: commodity.commodityId || commodity.id,\n            commodityPicUri: picUri,\n            value: commodity.commodityName,\n            price: JsUtil.currFormat(commodity.price),\n            awardRate: commodity.awardRate\n          });\n        });\n        _this.setState({\n          data: gridArr\n        });\n      };\n      var err = function err(result) {\n        JsUtil.handleMessage(_this, result);\n      };\n      if (!_this.operatorId) {\n        _this.operatorId = cnst.ID_NO;\n      }\n      var supplierId = _this.params.supplierId;\n      var category1Id = _this.params.category1Id;\n      var category2Id = _this.params.category2Id;\n      var category3Id = _this.params.category3Id;\n      var param = {\n        operatorId: _this.operatorId,\n        supplierId: supplierId,\n        category1Id: category1Id,\n        category2Id: category2Id,\n        category3Id: category3Id,\n        status: cnst.COMMODITY_STATUS_ON_SALE,\n        sorting: sorting,\n        pageNo: _this.state.pageNo,\n        pageSize: _this.state.pageSize\n      };\n      JsUtil.asyncHttpPost(_this, uri, JSON.stringify(param), succ, err);\n    });\n    _defineProperty(_this, \"handleSortChanged\", function (sort) {\n      _this.setState({\n        sorting: sort\n      }, function () {\n        return _this.sendRequest();\n      });\n    });\n    _defineProperty(_this, \"onConfirm\", function () {\n      JsUtil.closeMsgBox(_this);\n    });\n    _this.params = JsUtil.getUrlParams(_this);\n    _this.state = {\n      data: [],\n      sorting: 1\n    };\n    _this.sendRequest();\n    return _this;\n  }\n  _inherits(CommodityListByCategory, _React$Component);\n  return _createClass(CommodityListByCategory, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      return /*#__PURE__*/_jsx(HeadLayout, {\n        that: this,\n        topNavBarTitle: \"\\u5546\\u54C1\\u5217\\u8868\",\n        children: /*#__PURE__*/_jsx(CmmdListTemplate, {\n          data: this.state.data,\n          onSortChange: function onSortChange(sort) {\n            return _this2.handleSortChanged(sort);\n          }\n        })\n      });\n    }\n  }]);\n}(React.Component);\nexport default CommodityListByCategory;","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pkgmall/page/mall/CommodityListByCategory!./CommodityListByCategory.tsx\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'pkgmall/page/mall/CommodityListByCategory', {root:{cn:[]}}, config || {}))\n\n\nexport default component\n"],"names":[],"sourceRoot":""}